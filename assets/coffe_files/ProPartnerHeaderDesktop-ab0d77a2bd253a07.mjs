(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[67123,28543,93209,39395],{302667:(e,s,t)=>{t.d(s,{As:()=>l,Ed:()=>c,X_:()=>i,h_:()=>r,vF:()=>o,x3:()=>a});var n=t(172071);const i=e=>{e&&e.utm_campaign&&n.Z.increment("client.partner.account.convert_attempt.utm_campaign.exists",1,e)},o=(e,s,t,i,o,r,a={})=>{((e,s)=>{const t=`client.partner.quick_promote_button.${e}`;n.Z.increment(t,1,{app_type:"web",location:s})})(s,t),((e,s,t,n={},i)=>{i({event_type:e,component:s,element:10148,view_type:t,aux_data:{...n}})})(i,o,r,a,e)},r=e=>{e({event_type:8217})},a=()=>{n.Z.increment("client.partner.biz_nux_v2.nux_start",1,{app_type:"web"})},l=()=>{n.Z.increment("client.partner.biz_nux_v2.nux_end",1,{app_type:"web"})},c=e=>{const s=`client.partner.biz_nux_v2.render.${e}`;n.Z.increment(s,1,{app_type:"web"})}},598920:(e,s,t)=>{t.d(s,{BW:()=>J,Cj:()=>Q,Cp:()=>D,D5:()=>w,G1:()=>V,G5:()=>W,LG:()=>Y,Lp:()=>$,ZE:()=>q,ZP:()=>ee,cT:()=>z,cY:()=>j,iG:()=>X,mQ:()=>M,tt:()=>L,u2:()=>O});var n=t(966113),i=t(883119);const o=new i.Ry(10),r=new i.H3([o]),a=new i.H3([r]),l=new i.H3([a]),c=new i.H3([l]),d=Object.freeze({red:"#E60023",white:"#FFF",lightGray:"#EFEFEF",gray:"#8E8E8E",darkGray:"#333",green:"#0FA573",pine:"#0A6955",olive:"#364A4C",blue:"#4A90E2",navy:"#004B91",midnight:"#133A5E",purple:"#B469EB",orchid:"#8046A5",eggplant:"#5B2677",maroon:"#6E0F3C",watermelon:"#F13535",orange:"#E3780C"}),_=Object.freeze({AGE_18_24:"18-24",AGE_21_24:"21-24",AGE_18_20:"18-20",AGE_25_34:"25-34",AGE_35_44:"35-44",AGE_45_49:"45-49",AGE_50_54:"50-54",AGE_55_64:"55-64",AGE_65_PLUS:"65+"}),u=Object.freeze({2:"18-20",3:"21-24",4:"25-34",5:"35-44",6:"45-49",7:"50-54",8:"55-64",9:"65+"}),p=Object.freeze({[_.AGE_18_20]:2,[_.AGE_21_24]:3,[_.AGE_25_34]:4,[_.AGE_35_44]:5,[_.AGE_45_49]:6,[_.AGE_50_54]:7,[_.AGE_55_64]:8,[_.AGE_65_PLUS]:9,AGE_UNSUPORTED:10}),h=[p[_.AGE_21_24],p[_.AGE_25_34],p[_.AGE_35_44],p[_.AGE_45_49],p[_.AGE_50_54],p[_.AGE_55_64],p[_.AGE_65_PLUS]],A=Object.freeze({ONE_WEEK:"7D",ONE_MONTH:"30D",THREE_MONTH:"90D",SIX_MONTH:"180D",ONE_YEAR:"365D"}),m=A.ONE_MONTH,E=Object.freeze({DAILY:1,WEEKLY:2,BIWEEKLY:3,MONTHLY:4}),g=Object.freeze({[A.ONE_WEEK]:E.DAILY,[A.ONE_MONTH]:E.DAILY,[A.THREE_MONTH]:E.WEEKLY,[A.SIX_MONTH]:E.WEEKLY,[A.ONE_YEAR]:E.WEEKLY}),b=Object.freeze({DETAIL:"/detail/",HOME:"/"}),P=Object.freeze({[A.ONE_WEEK]:1,[A.ONE_MONTH]:2,[A.THREE_MONTH]:3,[A.SIX_MONTH]:4,[A.ONE_YEAR]:5}),S=Object.freeze({[A.ONE_WEEK]:7,[A.ONE_MONTH]:30,[A.THREE_MONTH]:90,[A.SIX_MONTH]:180,[A.ONE_YEAR]:365}),T=Object.freeze({IS_SEASONAL:"seasonal",TERMS:"terms",COUNTRY:"country",SHOULD_MOCK:"shouldMock",EMPTY_HERO_BANNER_MOCK:"emptyHeroBanner",TRENDS_PRESET:"trendsPreset",ADVERTISER_ID:"advertiserId",END_DATE:"endDate",SELECTED_END_DATE:"selectedEndDate",AGE_BUCKET:"ageBucket",GENDER:"gender",LOOK_BACK_WINDOW:"lookbackWindow",COUNTS_TYPE:"countsType",DATE_RANGE:"dateRange",AGGREGATION_LEVEL:"aggregationLevel",SORT_BY:"sortBy",SORT_ORDER:"sortOrder",L1_INTEREST_IDS:"l1InterestIds",L2_INTEREST_IDS:"l2InterestIds",L3_INTEREST_IDS:"l3InterestIds",KEYWORDS_TO_EXCLUDE:"keywordsToExclude",KEYWORDS_TO_INCLUDE:"keywordsToInclude",RANKING_METHOD:"rankingMethod",AGE_DETAILS_PAGE:"ageDetailsPage",GENDER_DETAILS_PAGE:"genderDetailsPage",TOP_TRENDS:"topTrends"}),x=Object.freeze({TRUE:"true",FALSE:"false"}),v=Object.freeze({MALE:"male",FEMALE:"female",UNSPECIFIED:"unspecified"}),f=Object.freeze({[v.MALE]:0,[v.FEMALE]:1,[v.UNSPECIFIED]:2}),C=Object.freeze({0:"male",1:"female",2:"unknown"}),I=Object.freeze({TOP_TRENDS_INTERNAL:"1",GROWING_TRENDS_INTERNAL:"2",VIRAL_TRENDS_INTERNAL:"3",SEASONAL_TRENDS_INTERNAL:"4",TOP_MONTHLY_TRENDS:"1",TOP_YEARLY_TRENDS:"2",GROWING_TRENDS:"3",SEASONAL_TRENDS:"4"}),R=Object.freeze({[I.TOP_TRENDS_INTERNAL]:"Top Trends",[I.GROWING_TRENDS_INTERNAL]:"Growing Trends",[I.VIRAL_TRENDS_INTERNAL]:"Viral Trends"}),N=Object.freeze({[I.TOP_MONTHLY_TRENDS]:"Top Monthly Trends",[I.TOP_YEARLY_TRENDS]:"Top Yearly Trends",[I.GROWING_TRENDS]:"Growing Trends",[I.SEASONAL_TRENDS]:"Seasonal Trends"}),y=Object.freeze({[T.AGGREGATION_LEVEL]:[E.WEEKLY],[T.LOOK_BACK_WINDOW]:[A.ONE_MONTH,A.THREE_MONTH,A.ONE_YEAR,A.SIX_MONTH]}),O="px_externalization",w="internal_viral_trends",z=Object.freeze({L1:1,L2:2,L3:3}),L=Object.freeze({ONE_MONTH:2,THREE_MONTHS:3,SIX_MONTHS:4,ONE_YEAR:5}),D=Object.freeze({HIGH_VOLUME:1}),M=Object.freeze({NC_ENGAGEMENT_PLUS_ACTIVE_FOLLOWERS_90d:1}),j="https://business.pinterest.com/en-us/blog/how-to-build-audience-pinterest/",k="IT+ES+PT+GR+MT",H="DE+AT+CH",G="GB+IE",U="SE+DK+FI+NO",Z="NL+BE+LU",B="PL+RO+HU+SK",F="AU+NZ",Y={PT:k,GR:k,MT:k,AT:H,CH:H,GB:G,IE:G,SE:U,DK:U,FI:U,NO:U,NL:Z,BE:Z,LU:Z,PL:B,RO:B,HU:B,SK:B,CL:"MX+AR+CO+CL",AU:F,NZ:F},W="https://www.pinterest.com/advertiser/quick-promote/",V="conversion-trends-default-tour-id",K=Object.freeze([A.ONE_MONTH,A.ONE_YEAR,A.THREE_MONTH,A.ONE_MONTH]),X=`${n.Z.settings.CANONICAL_MAIN_URL}${n.Z.settings.PARTNER_SITE_SIGNUP}`,q=`${n.Z.settings.CANONICAL_ANALYTICS_URL}${n.Z.settings.LOGIN_URL}`,Q="https://i.pinimg.com/originals/61/40/59/61405960405378c80913b9b93c510b7f.png",$="https://i.pinimg.com/originals/21/92/49/219249b36e852fe7c2efb3789aee3d72.png",J={p100Banner:"https://i.pinimg.com/originals/a6/e5/f1/a6e5f1b32689de6329119d52156799b3.png",bannerImageLeft:"https://i.pinimg.com/originals/c8/19/29/c81929d238e1454547f6c1fd432dcf05.png",bannerImageRight:"https://i.pinimg.com/originals/19/7e/9b/197e9b865d8f0aa73ee5341e22006f43.png"},ee={PAGES:b,TOAST_DURATION:3e3,EXTERNAL_ALLOWED_VALUES:y,Z_INDEX_TRENDS_HEADER:o,Z_INDEX_TRENDS_FEEDBACK_BUTTON:r,Z_INDEX_TRENDS_AUTOCOMPLETE_BOX:a,Z_INDEX_TRENDS_SEARCH_FORM:l,Z_INDEX_TRENDS_TOOLTIP:c,DEPRECATED_GESTALT_COLORS_HEX_VALUES:d,MOBILE_MAX_WIDTH:576,FEEDBACK_CHAR_LIMIT:3e3,DEFAULT_CARD_WIDTH:357,DEFAULT_CARD_HEIGHT_RATIO:.65,FIVE_CARD_WIDTH:204,FIVE_CARD_HEIGHT_RATIO:.74,FIVE_LEFT_IMAGE_WIDTH_RATIO:.65,AGGREGATION_TYPES:E,SMALL_CARD_WIDTH:220,DEFAULT_DAYS:"360",CARD_PADDING:10,FIVE_CARD_PADDING:24,PAGE_PADDING:160,MOBILE_HEIGHT:280,DESKTOP_HEIGHT:340,MOBILE_WIDTH:360,DESKTOP_WIDTH:900,CARD_WIDTH_PLUS_PADDING:377,AGE_21_PLUS:"21+",DEFAULT_COUNTRY:"US",TOP_TRENDS_PARAMETER:"topTrendsParameter",FLAGGED_TERM:"flaggedTerm",DEFAULT_DESIRED_CARD_PER_ROW:3,INTERNAL_DESIRED_CARD_PER_ROW:6,EXTERNAL_DESIRED_CARD_PER_ROW:6,DATE_FILTER_FORMAT:"MM/DD/YY",ALL:"all",TRENDS_CAMPAIGN_PLANNER:"TRENDS_CAMPAIGN_PLANNER",TRENDS:"TRENDS",PICK:"pick",PLUS_ICON:"+",MINUS_ICON:"-",FILTERABLE_TABLE_ROWS_PER_PAGE:Object.freeze({FIFTY:"50",ONE_HUNDRED:"100",TWO_HUNDRED_FIFTY:"250"}),DEBOUNCE_MILISECONDS:300,FILTER_SECTION:{FILTER_BAR_WIDTH:270,FILTER_BAR_MIN_HEIGHT:432,DATE_RANGE_WIDTH:178,DATE_PICKER_WIDTH:166},DEFAULT_NUM_TOP_TRENDS:500,DEFAULT_EXTERNAL_NUM_TOP_TRENDS:50,GENDER:v,GENDER_TO_THRIFT_CONST:f,AGE_BUCKETS:_,AGE_TO_THRIFT_CONST:p,AGE_TO_THRIFT_CONST_ARRAY_21_PLUS:h,THRIFT_TO_AGE_CONST:u,THRIFT_TO_GENDER_CONST:C,LOOK_BACK_WINDOW:A,LOOK_BACK_WINDOW_DEFAULT:m,LOOK_BACK_WINDOW_TO_THRIFT_CONST:P,LOOK_BACK_WINDOW_TO_AGGREGATION_CONST:g,LOOK_BACK_WINDOW_TO_DAYS:S,TRENDS_TYPES:I,TRENDS_INTERNAL_TYPES_VALUES_TO_LABELS:R,TRENDS_EXTERNAL_TYPES_VALUES_TO_LABELS:N,URL_PARAM_KEYS:T,URL_PARAM_BOOLEAN_VALUES:x,SEASONALITY_SCORE_THRESHOLD:.75,SORT_ORDER:Object.freeze({DESC:"desc",ASC:"asc"}),FILTER_TYPES:Object.freeze({OPPORTUNITY:"OPPORTUNITY",CAMPAIGN:"CAMPAIGN"}),SORT_BY:Object.freeze({TREND_RANK:"TREND_RANK",TOTAL_SEARCH:"TOTAL_SEARCH",WEEKLY_CHANGE:"WEEKLY_CHANGE",MONTHLY_CHANGE:"MONTHLY_CHANGE",YEARLY_CHANGE:"YEARLY_CHANGE"}),URL_JOIN_SIGN:"|",CONCATENATED_STRING_SEPARATOR:", ",TERM_ALL:"all",DEBOUNCE_AUDIENCE_SIZE:1e3,MAX_ADD_TERMS:50,L1_SECTIONS:{ALL:{value:"all",label:"All categories"},FOOD_AND_DRINK:{value:"foodanddrink",label:"Food and drinks",id:"918530398158"},BEAUTY:{value:"beauty",label:"Beauty",id:"935541271955"},HOME_DECOR:{value:"homedecor",label:"Home decor",id:"935249274030"},FASHION:{value:"fashion",label:"Fashion",id:"948967005229"},TRAVEL:{value:"travel",label:"Travel",id:"908182459161"},ART:{value:"art",label:"Art",id:"961238559656"},QUOTES:{value:"quotes",label:"Quotes",id:"948192800438"},ENTERTAINMENT:{value:"entertainment",label:"Entertainment",id:"953061268473"},DIY_AND_CRAFTS:{value:"diyandcrafts",label:"DIY and crafts",id:"934876475639"},HEALTH:{value:"health",label:"Health",id:"898620064290"},WEDDINGS:{value:"weddings",label:"Wedding",id:"903260720461"},EVENT_PLANNING:{value:"eventplanning",label:"Event planning",id:"941870572865"},LAWN_AND_GARDEN:{value:"lawnandgarden",label:"Gardening",id:"909983286710"},ANIMALS:{value:"animals",label:"Animals",id:"925056443165"},PARENTING:{value:"parenting",label:"Parenting",id:"920236059316"},EDUCATION:{value:"education",label:"Education",id:"922134410098"},VEHICLES:{value:"vehicles",label:"Vehicles",id:"918093243960"},DESIGN:{value:"design",label:"Design",id:"902065567321"},SPORTS:{value:"sports",label:"Sport",id:"919812032692"},ELECTRONICS:{value:"electronics",label:"Electronics",id:"960887632144"},FINANCE:{value:"finance",label:"Finance",id:"913207199297"},ARCHITECTURE:{value:"architecture",label:"Architecture",id:"918105274631"}},BASE_BANNER_HEIGHT:400,COUNT_TYPES:{COUNT:"count",NORMALIZED_COUNT:"normalizedCount"},EXTERNAL_LOOKBACK_WINDOW_MAPPED_TREND_TYPES:K,FEEDBACK_SLACK_CHANNEL:"slack://channel?team=T024LJUGB&id=CKBF9A6EL",MAX_TERMS:4,COUNTRY_FULL_NAMES:{US:"the United States",CA:"Canada",GB:"the United Kingdom"},CONCATENATED_INTERESTS_PARAM_KEY:"concatenatedInterests",FILTER_INTEREST_IDS_PARAM_KEY:"filterInterestIds",FILTER_AGE_IDS_PARAM_KEY:"filterAgeIds",FILTER_GENDERS_PARAM_KEY:"filterGenders",EXPORT_TYPES:{DISCOVER:"discover",DETAILS:"details",CAMPAIGN:"campaignPlan"},EXPORT_NA:"N/A",EXPORT_ALL:"All",EXPORT_NONE:"None",ENGLISH_LANGUAGE_CODE:"en",KEYWORD_SPLIT_CHARACTER:"\n",EXPORT_MESSAGE_HEADER:"Export in progress",DEPRECATED_COLOR_VALUES:["blue","green","purple","orange","red","maroon","orchid","navy","pine","watermelon"],EXPORT_MESSAGE:"This should only take a few seconds. Don't go back.",POPULAR_PINS_MAXIMUM_IMAGES:9,MAXIMUM_TERM_IMAGES_BULK_SIZE:200,TERM_IMAGE_MEMCACHE_KEY_PREFIX:"timg:",EXTRA_TERM_IMAGES:80,DESIRED_PIN_IMAGE_SIZE:"236x",PIN_IMAGE_URL_PREFIX:"https://i.pinimg.com/",PIN_IMAGE_URL_SUFFIX:".jpg",PIN_IMAGE_DEFAULT_CACHE_TIME_S:86400,PERSONALIZED_TRENDS_INTEREST_AVAILABLE_THRESHOLD:3,PERSONALIZED_TRENDS_MINI_TABLE_REQUEST_SIZE:25,PERSONALIZED_TRENDS_MINI_TABLE_ROWS_PRE_PAGE:5,PERSONALIZED_TRENDS_TABLE_BREAK_LINE_WINDOW_WIDTH:1284,DOUBLE_ROW_CARD_WIDTH:170,TOP_TRENDS_CAROUSEL_TERMS:9,TRENDS_SEARCHBAR_HEIGHT:193,TOP_TRENDS_CAROUSEL_EXTENDED_TERMS:30,TOP_TRENDS_DOUBLE_ROW_MAX_TERMS:6,DETAILS_PAGE_SEARCH_OVERTIME_SUBTITLE_WIDTH:739,PT_IMAGE_SIZE:"170x",FILTERED_TABLE_IMAGE_SIZE:"30x30",TOP_TREND_CAROUSEL_IMAGE_SIZE:"236x"}},187071:(e,s,t)=>{t.d(s,{Z:()=>n});const n=(0,t(667294).createContext)({isUpsellUnauthModalOpen:!1,openUpsellUnauthModal:()=>{},closeUpsellUnauthModal:()=>{}})},866868:(e,s,t)=>{t.d(s,{y1:()=>u,D9:()=>_,pV:()=>d,Xs:()=>c,q1:()=>h,nc:()=>A,kc:()=>p});var n=t(667294);const i={549756553755:!0,549756331161:!0,549756269459:!0,549755895325:!0,549762641372:!0,549760723706:!0,549755937581:!0,549756170445:!0,549756927239:!0,549756629177:!0,549756449865:!0,549759444988:!0,549756237017:!0,549755813900:!0,549755833641:!0,549755854224:!0,549755993777:!0,549756213769:!0,549755908739:!0,549755893671:!0,549756576196:!0,549756784782:!0,549755813898:!0,549755924387:!0,549755882498:!0,549756159844:!0,549759324794:!0,549756099359:!0,549755913854:!0,549755881328:!0,549761398737:!0,549761555444:!0,549763479090:!0,549755814113:!0,549756076497:!0,549763783984:!0,549763122169:!0,549763153452:!0,549763769923:!0,549762895725:!0,549763622605:!0,549762455175:!0,549762234957:!0,549762210255:!0,549762143468:!0,549762838704:!0,549762415581:!0,549762420905:!0,549762504020:!0,549762498391:!0,549763221340:!0,549762395593:!0,549762313810:!0,549762367828:!0,549762329128:!0,549762324265:!0,549762300866:!0,549762205629:!0,549762518691:!0,549762466353:!0,549762832968:!0,549762732860:!0,549762492459:!0,549762415009:!0,549762313085:!0,549762210380:!0,549762490974:!0,549762317313:!0,549762143606:!0,549762143594:!0,549762286814:!0,549762344996:!0,549762568830:!0,549762761052:!0,549762848765:!0,549763356923:!0,549762557281:!0,549764006042:!0,549762255395:!0,549762361499:!0,549763729371:!0,549763557921:!0,549762837773:!0,549762518916:!0,549763248976:!0,549764078297:!0,549764387198:!0,549763276845:!0,549762468354:!0,549762486697:!0,549762916644:!0,549763131226:!0,549762486335:!0,549760695189:!0,549759116168:!0,549761403702:!0,549756836861:!0,549759799300:!0,549755833937:!0,549761911530:!0,549760385280:!0,549755911658:!0,549756506001:!0,549763425245:!0,549757199516:!0,549756836828:!0,549760220053:!0,549760116496:!0,549762345173:!0,549757961590:!0,549760461798:!0,549757120198:!0,549757044427:!0,549760262780:!0,549757131017:!0,549760294234:!0,549762448483:!0,549759108358:!0,549759701182:!0,549757005683:!0,549763287208:!0,549760576935:!0,549755840913:!0,549763720868:!0,549759505472:!0,549759072528:!0,549758980144:!0,549758415296:!0,549760815532:!0,549759116074:!0,549758987386:!0,549757097397:!0,549758367348:!0,549759690293:!0,549756320664:!0,549761601856:!0,549756099073:!0,549759540076:!0,549759067120:!0,549759288021:!0,549759036390:!0,549759127020:!0,549762286461:!0,549762287287:!0,549761205044:!0,549762329930:!0,549762420141:!0,549763265585:!0,549764044796:!0,549764220908:!0,549756704038:!0,549759561550:!0,549756515748:!0,549762267764:!0,549763125156:!0,549756916005:!0,549763950648:!0,549762930974:!0,549759192230:!0,549756806388:!0,549757113552:!0,549756719153:!0,549761764763:!0,549756164903:!0,549759098847:!0,549764006806:!0,549762933521:!0,549764365321:!0,549763436134:!0,549762251211:!0,549762103292:!0,549764237303:!0,549755849488:!0,549759055652:!0,549762139336:!0,549756398881:!0,549755842656:!0,549755896916:!0,549756535711:!0,549756724835:!0,549759298110:!0,549761665194:!0,549756324586:!0,549761882455:!0,549756583688:!0,549761517856:!0,549761368609:!0,549761094325:!0,549760454321:!0,549764324085:!0,549755944954:!0,549756707088:!0,549761984328:!0,549762536391:!0,549762587535:!0,549764040917:!0,549763288911:!0,549762628055:!0,549762589384:!0,549762683896:!0,549762933770:!0,549762553083:!0,549762345483:!0,549764103484:!0,549764207773:!0,549762790385:!0,549762435777:!0,549762064585:!0,549761643909:!0,549756829735:!0,549764167470:!0,549757738552:!0,549764229769:!0,549760785475:!0,549762519229:!0,549762935886:!0,549761499510:!0,549763858813:!0,549764134842:!0,549764229279:!0,549759836223:!0,549759054707:!0,549759164480:!0,549756876534:!0,549761262408:!0,549761148227:!0,549759799980:!0,549762100348:!0,549760071578:!0,549756806436:!0,549764162812:!0,549756836854:!0,549757072587:!0,549763467571:!0,549761846940:!0,549759557037:!0,549763265276:!0,549761054969:!0,549759828158:!0,549756736247:!0,549760809798:!0,549763461622:!0,549762198457:!0,549760867491:!0,549761385409:!0,549761519088:!0,549761326897:!0,549764144642:!0,549762527391:!0,549760575943:!0,549762527664:!0,549762653786:!0,549762881144:!0,549755928281:!0,549755950938:!0,549755885652:!0,549762891554:!0,549755846928:!0,549756228602:!0,549755873167:!0,549760594056:!0,549756423752:!0,549759134524:!0,549756916538:!0,549759081525:!0,549759085370:!0,549762100313:!0,549755816147:!0,549756066536:!0,549759348378:!0,549759371204:!0};var o=t(704177),r=t(373232),a=t(276775),l=t(187071);const c=e=>({setValueToSession:s=>o.y7.setItem(e,s),getValueFromSession:s=>{const t=o.y7.getItem(e);return t||s}}),d=()=>{const e=(0,a.TH)();return(0,n.useMemo)((()=>new URLSearchParams(e.search).get("country")||"US"),[e])},_=e=>{const s=(0,n.useRef)(null);return(0,n.useEffect)((()=>{s.current=e}),[e]),s.current},u=(e,s)=>{const t=(0,n.useRef)(),i=()=>{t.current&&clearTimeout(t.current)};return(0,n.useEffect)((()=>i),[]),n=>{i(),t.current=setTimeout((()=>{e(n)}),s)}},p=e=>{const[s,t]=(0,n.useState)(!1),i=new IntersectionObserver((([e])=>{t(e.isIntersecting)}));return(0,n.useEffect)((()=>e?(i.observe(e.current),()=>{i.disconnect()}):()=>{}),[]),s},h=()=>{var e;return!!i[(null===(e=(0,r.u7)().advertiser)||void 0===e?void 0:e.id)||""]};function A(){return(0,n.useContext)(l.Z)}},667455:(e,s,t)=>{function n(e){return e._('Conversions', '[m10n]business.conversions.title', '[m10n] Header for conversions page')}function i(e){return e._('Manage your Pinterest tags with the help of our conversions page.', '[m10n]business.conversions.title', '[m10n] Page for managing users and their permissions')}t.d(s,{U:()=>n,a:()=>i})},53090:(e,s,t)=>{t.d(s,{Pb:()=>E,ZP:()=>S});var n=t(667294),i=t(537736),o=t(121093),r=t(102800),a=t(966113),l=t(869636),c=t(784590),d=t(19121),_=t(934523),u=t(497529),p=t(898781),h=t(883119),A=t(785893);function m(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}const E=60,g=500896,b=1000109;class P extends n.PureComponent{constructor(e){super(e),m(this,"setTooltipAnchor",(e=>{e&&this.setState({tooltipAnchor:e})})),m(this,"getUnreadInteractionCount",(()=>{const{nativeInteractions:e}=this.props;if(null!=e&&e.data){return e.data.results.filter((e=>!e.seen)).length}return 0})),m(this,"handleDismiss",(()=>{this.setState({isTooltipOpen:!1})})),m(this,"handleCompleteExperience",(()=>{const{experience:e,experienceClient:s}=this.props;e&&e.experience_id===g&&s.completeExperience(b,g),this.handleDismiss()}));const{experience:s}=e;this.state={isTooltipOpen:s&&s.experience_id===g}}componentDidMount(){const{experience:e,selected:s}=this.props;s&&e&&e.experience_id===g&&this.handleCompleteExperience()}componentDidUpdate(e){const{nativeInteractions:s,selected:t}=this.props;e.selected!==t&&s&&s.refresh()}render(){const{compactMode:e,isWwwSite:s,selected:t}=this.props,{isTooltipOpen:n,tooltipAnchor:l}=this.state,c=l&&(0,A.jsx)(o.Z,{eligibleIds:[g],placementId:b,children:(0,A.jsx)(h.J2,{showCaret:!0,anchor:l,color:"blue",idealDirection:"down",onDismiss:this.handleCompleteExperience,shouldFocus:!1,size:"sm",children:(0,A.jsx)(h.xu,{padding:3,children:(0,A.jsx)(h.xv,{color:"inverse",overflow:"normal",weight:"bold",children:this.props.i18n._('Meet your community! Click to see and respond to @mentions and comments on your Pins.', 'engagement.engagementTab.tooltip', 'Tooltip introducing the Engagement tab, an interface that allows creators to engage with pinners who interact with their pins')})})})}),d=t?0:this.getUnreadInteractionCount();return(0,A.jsxs)(h.xu,{position:"relative",children:[(0,A.jsx)(h.xu,{ref:this.setTooltipAnchor,children:(0,A.jsx)(r.Z,{accessibilityLabel:this.props.i18n._('Manage comments and social activity', 'Tab to access engagement', 'Tab to access engagement'),compactMode:e,contextData:{event:101,component:8,element:10804},icon:(0,A.jsx)(i.Z,{count:d,accessibilityLabel:"",color:t?"default":"subtle",icon:"megaphone",iconSize:_.L1}),onClick:this.handleCompleteExperience,text:this.props.i18n._('Engagement', 'visual label for engagement tab icon in nav bar', 'visual label for engagement tab icon in nav bar'),selected:t,url:s?a.Z.settings.ENGAGEMENT_URL:a.Z.settings.CANONICAL_ENGAGEMENT_URL},"EngagementButton")}),n&&!t&&c]})}}function S(e){const s=(0,p.ZP)(),t=(0,u.Z)(),n=(0,d.Z)(),i=(0,c.Z)({name:"NativeInteractionsResource",options:{use_mock_data:!1,page_size:E,username:n.isAuth?n.username:""}}),{experience:o}=(0,l.Z)(b);return(0,A.jsx)(P,{...e,experienceClient:t,i18n:s,nativeInteractions:i,viewer:n,experience:o})}},990698:(e,s,t)=>{function n(e,s){e({event_type:101,component:10039,element:s})}function i(e,s,t){return()=>{n(e,s),t&&t()}}t.d(s,{C:()=>n,l:()=>i})},577565:(e,s,t)=>{t.r(s),t.d(s,{PRO_PARTNER_HEADER_HEIGHT:()=>es,ProPartnerHeader:()=>ss,default:()=>ts});var n=t(667294),i=t(934723),o=t(321611),r=t(966113),a=t(990698),l=t(667455),c=t(438112),d=t(302667),_=t(407043),u=t(773285),p=t(385740),h=t(21353),A=t(898781),m=t(289615),E=t(883119),g=t(785893);function b(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}class P extends n.PureComponent{constructor(...e){super(...e),b(this,"getCreateCampaignUrl",(()=>{const{advertiser:e,experimentsClient:s,getSterlingURL:t,isAdsSite:n=!1,isAnalyticsSite:o=!1,isTrendsSite:r=!1,isShoppingCatalogs:a}=this.props;return(0,i.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:o,isTrendsSite:r,baseUrl:(0,c.aI)(s)?t("campaignMode"):t("create"),isShoppingCatalogs:a})})),b(this,"getPromotePinUrl",(()=>{const{getSterlingURL:e,isAdsSite:s}=this.props,t=r.Z.settings.CANONICAL_MAIN_URL+e("quick_promote_on_www"),n=e("quick_promote");return s?n:t})),b(this,"handlePromoteClick",(e=>{e.preventDefault();const{onItemClick:s,logContextEvent:t}=this.props,n=this.getCreateCampaignUrl();(0,a.l)(t,10613,s),(0,d.h_)(t),window.location.assign(n)})),b(this,"handlePromotePinClick",(e=>{e.preventDefault();const{onItemClick:s,logContextEvent:t}=this.props,n=this.getPromotePinUrl();(0,a.l)(t,13148,s),(0,d.h_)(t),window.location.assign(n)})),b(this,"isActionPermitted",(e=>{const{advertiser:s}=this.props;return!s||(0,o.Z)((s||{}).actions||[],e)}))}componentDidMount(){if(this.props.advertiser){const{viewType:e,viewParameter:s}=this.props;this.props.logContextEvent({event_type:13,view_type:e,view_parameter:s,component:10039,element:11923})}}render(){const{advertiser:e,experimentsClient:s,getSterlingURL:t,isAdsSite:n=!1,isAnalyticsSite:o=!1,isTrendsSite:c=!1,onItemClick:d,isShoppingCatalogs:_,logContextEvent:u}=this.props;return(0,g.jsxs)("ul",{className:m.cF,children:[this.isActionPermitted(15)&&(0,g.jsx)("li",{children:(0,g.jsx)("a",{className:m.Qg,"data-element-type":10613,href:this.getCreateCampaignUrl(),onClick:this.handlePromoteClick,children:(0,g.jsx)(E.xv,{weight:"bold",children:this.props.i18n._('Create ad', 'proPartnerHeader.adsMenuContent.createAdMenuItem', 'Create ad button in ads dropdown menu')})})},"create_flow_list_button_create_ad"),this.isActionPermitted(101)&&s.checkExperiment("adv_growth_navigation_updates").anyEnabled&&(0,g.jsx)("li",{children:(0,g.jsx)("a",{className:m.Qg,"data-element-type":13148,href:this.getPromotePinUrl(),onClick:this.handlePromotePinClick,children:(0,g.jsx)(E.xv,{weight:"bold",children:this.props.i18n._('Promote a Pin', 'proPartnerHeader.adsMenuContent.promotePinMenuItem', 'Promote a Pin button in ads dropdown menu')})})},"create_flow_list_button_pin_promote"),this.isActionPermitted(11)&&!s.checkExperiment("aid_exp_sterling_landing_reporting_dashboard").anyEnabled&&(0,g.jsx)("li",{children:(0,g.jsx)("a",{className:m.Qg,"data-element-type":10084,href:(0,i.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:o,isTrendsSite:c,baseUrl:"/",isShoppingCatalogs:_}),onClick:(0,a.l)(u,10084,d),children:(0,g.jsx)(E.xv,{weight:"bold",children:this.props.i18n._('Overview', 'proPartnerHeader.adsMenuContent.overviewMenuItem', 'Overview button in ads dropdown menu')})})},"/"),this.isActionPermitted(11)&&(0,g.jsx)("li",{children:(0,g.jsx)("a",{className:m.Qg,"data-element-type":10304,href:(0,i.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:o,isTrendsSite:c,baseUrl:t("reporting"),isShoppingCatalogs:_}),onClick:(0,a.l)(u,10304,d),children:(0,g.jsx)(E.xv,{weight:"bold",children:this.props.i18n._('Reporting', 'proPartnerHeader.adsMenuContent.reportingMenuItem', 'Reporting button in ads dropdown menu')})})},"reporting"),this.isActionPermitted(11)&&(0,g.jsx)("li",{children:(0,g.jsx)("a",{className:m.Qg,"data-element-type":11718,href:(0,i.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:o,isTrendsSite:c,baseUrl:t("report_history"),isShoppingCatalogs:_}),onClick:(0,a.l)(u,11718,d),children:(0,g.jsx)(E.xv,{weight:"bold",children:this.props.i18n._('Custom reports', 'proPartnerHeader.adsMenuContent.customReportsMenuItem', 'Custom reports button in ads dropdown menu')})})},"custom_reports"),this.isActionPermitted(9)&&(0,g.jsx)("li",{children:(0,g.jsx)("a",{className:m.Qg,"data-element-type":10090,href:(0,i.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:o,isTrendsSite:c,baseUrl:"/bulk_editor/",isShoppingCatalogs:_}),onClick:(0,a.l)(u,10090,d),children:(0,g.jsx)(E.xv,{weight:"bold",children:this.props.i18n._('Bulk editor', 'proPartnerHeader.adsMenuContent.bulkEditorMenuItem', 'Bulk editor button in ads dropdown menu')})})},"bulk_editor"),this.isActionPermitted(35)&&(0,g.jsx)("li",{children:(0,g.jsx)("a",{className:m.Qg,"data-element-type":10091,href:(0,i.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:o,isTrendsSite:c,baseUrl:"/conversions/tag/",isShoppingCatalogs:_}),onClick:(0,a.l)(u,10091,d),children:(0,g.jsx)(E.xv,{weight:"bold",children:(0,l.U)(this.props.i18n)})})},"conversions"),this.isActionPermitted(32)&&(0,g.jsx)("li",{children:(0,g.jsx)("a",{className:m.Qg,"data-element-type":10171,href:(0,i.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:o,isTrendsSite:c,baseUrl:t("audiences"),isShoppingCatalogs:_}),onClick:(0,a.l)(u,10171,d),children:(0,g.jsx)(E.xv,{weight:"bold",children:this.props.i18n._('Audiences', 'proPartnerHeader.adsMenuContent.audiencesMenuItem', 'Audiences button in ads dropdown menu')})})},"audiences"),this.isActionPermitted(54)&&(0,g.jsx)("li",{children:(0,g.jsx)("a",{className:m.Qg,"data-element-type":10305,href:(0,i.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:o,isTrendsSite:c,baseUrl:"/history/",isShoppingCatalogs:_}),onClick:(0,a.l)(u,10305,d),children:(0,g.jsx)(E.xv,{weight:"bold",children:this.props.i18n._('Ad account history', 'proPartnerHeader.adsMenuContent.adAccountHistoryMenuItem', 'Ad Account History button in ads dropdown menu')})})},"history"),this.isActionPermitted(56)&&(0,g.jsx)("li",{children:(0,g.jsx)("a",{className:m.Qg,"data-element-type":10103,href:(0,i.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:o,isTrendsSite:c,baseUrl:"/billing/",isShoppingCatalogs:_}),onClick:(0,a.l)(u,10103,d),children:(0,g.jsx)(E.xv,{weight:"bold",children:this.props.i18n._('Billing', 'proPartnerHeader.adsMenuContent.billingMenuItem', 'Billing button in ads dropdown menu')})})},"billing"),s.checkExperiment("sterling_media_planner").anyEnabled&&(0,g.jsx)("li",{children:(0,g.jsxs)("a",{className:m.Qg,"data-element-type":11384,href:(0,i.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:o,isTrendsSite:c,baseUrl:"/media_planner/",isShoppingCatalogs:_}),onClick:(0,a.l)(u,11384,d),children:[(0,g.jsx)(E.xu,{marginEnd:2,children:(0,g.jsx)(E.xv,{weight:"bold",children:this.props.i18n._('Media Planner', 'proPartnerHeader.adsMenuContent.mediaPlannerMenuItem', 'Media planner button in ads dropdown menu')})}),(0,g.jsx)(E.Ct,{text:this.props.i18n._('Internal', 'Media Planner badge text', 'Media Planner badge text')})]})},"media_planner"),this.isActionPermitted(9)&&s.checkExperiment("enable_catalogs").anyEnabled&&(0,g.jsx)("li",{children:(0,g.jsx)("a",{className:m.Qg,"data-element-type":10808,href:`${r.Z.settings.CANONICAL_MAIN_URL}/product-catalogs/?advertiserId=${e?e.id:""}`,onClick:(0,a.l)(u,10808,d),children:(0,g.jsx)(E.xv,{weight:"bold",children:this.props.i18n._('Catalogs', 'proPartnerHeader.adsMenuContent.catalogsMenuItem', 'Catalogs button in ads dropdown menu')})})},"product-catalogs"),(0,g.jsx)("li",{children:(0,g.jsx)("a",{className:m.Qg,"data-element-type":11923,href:(0,i.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:o,isTrendsSite:c,baseUrl:t("recommendations"),isShoppingCatalogs:_}),onClick:(0,a.l)(u,11923,d),children:(0,g.jsx)(E.xu,{marginEnd:2,children:(0,g.jsx)(E.xv,{weight:"bold",children:this.props.i18n._('Recommendations', 'proPartnerHeader.adsMenuContent.recommendationsMenuItem', 'Recommendations button in ads dropdown menu')})})})},"recommendations"),this.isActionPermitted(32)&&s.checkExperiment("aid_exp_aud_debug").anyEnabled&&(0,g.jsx)("li",{children:(0,g.jsx)("a",{className:m.Qg,"data-element-type":13094,href:(0,i.Z)({advertiser:e,isAdsSite:n,isAnalyticsSite:o,isTrendsSite:c,baseUrl:t("audience_debug"),isShoppingCatalogs:_}),onClick:(0,a.l)(u,13094,d),children:(0,g.jsx)(E.xv,{weight:"bold",children:this.props.i18n._('Audience Debug', 'proPartnerHeader.adsMenuContent.audienceDebugMenuItem', 'Audience debug button in ads dropdown menu')})})},"audience-debug")]})}}function S(e){const{logContextEvent:s}=(0,_.v)(),t=(0,A.ZP)(),{viewType:n,viewParameter:i}=(0,p.SU)();return(0,g.jsx)(P,{...e,getSterlingURL:(0,h.Z)(),i18n:t,logContextEvent:s,experimentsClient:(0,u.F)(),viewType:n,viewParameter:i})}function T({advertiser:e,isAdsSite:s,isAdsNavMenuEnabled:t,isShoppingCatalogs:i}){const{logContextEvent:o}=(0,_.v)(),r=(0,A.ZP)(),a=(0,n.useRef)(null),[l,c]=(0,n.useState)(!1);return(s||t)&&(0,g.jsxs)(E.xu,{"data-test-id":"adsButton",paddingX:m.Lz,ref:a,children:[(0,g.jsx)(E.zx,{accessibilityExpanded:!0,accessibilityHaspopup:!0,accessibilityLabel:r._('Ads dropdown button', 'proPartnerHeader.adsMenu.button', 'Ads menu button'),color:"white",iconEnd:"arrow-down",onClick:()=>c(!l),selected:l,size:"lg",text:r._('Ads', 'proPartnerHeader.adsMenu.title', 'Ads menu button title')}),l&&(0,g.jsx)(E.J2,{anchor:a.current,idealDirection:"down",onDismiss:()=>c(!1),size:"md",children:(0,g.jsx)(S,{advertiser:e,isAdsSite:s,isShoppingCatalogs:i,onItemClick:function(){c(!1),o({event_type:101,component:10039,element:10083})}})})]})}var x=t(794230),v=t(784590),f=t(598920),C=t(373232),I=t(780280),R=t(866868);function N({advertiser:e,isAnalyticsSite:s,onItemClick:t}){const i=(0,A.ZP)(),{logContextEvent:o}=(0,_.v)(),l=(0,I.B)(),{enabled_advertiser_countries:c}=(0,C.u7)(),{checkExperiment:d}=(0,u.F)(),p=d(f.u2).anyEnabled,h=(0,R.q1)(),b=r.Z.settings.TRENDS_VALID_COUNTRIES.includes(l.country)||p||h,{data:P}=(0,v.Z)({name:"UserResource",options:{field_set_key:"analytics_content_owner",user_id:l.advertiser&&l.advertiser.owner_user_id}}),S=(0,n.useMemo)((()=>!!l&&((c||[]).includes(l.country)||l.advertiser&&l.advertiser.shopify_organic_attribution_enabled||P&&P.is_verified_merchant)),[c,l,P]),T=t=>{const n=e&&e.id||null,i=s?t:r.Z.settings.ANALYTICS_SITE_URL+t;return n?(0,x.Z)(i,{advertiserId:n}):i};return(0,g.jsxs)("ul",{className:m.cF,children:[(0,g.jsx)("li",{children:(0,g.jsx)("a",{className:m.Qg,"data-test-id":"analyticsOverview",href:T("/overview/"),onClick:(0,a.l)(o,10094,t),children:(0,g.jsx)(E.xv,{weight:"bold",children:i._('Overview', 'proPartnerHeader.analyticsMenuContent.overviewMenuItem', 'Overview button in analytics dropdown menu')})})},"overview"),(0,g.jsx)("li",{children:(0,g.jsx)("a",{className:m.Qg,"data-test-id":"analyticsAudienceInsights",href:T("/audience-insights/"),onClick:(0,a.l)(o,10411,t),children:(0,g.jsx)(E.xv,{weight:"bold",children:i._('Audience Insights', 'proPartnerHeader.analyticsMenuContent.audienceInsightsMenuItem', 'Audience Insights button in analytics dropdown menu')})})},"audience-insights"),S&&(0,g.jsx)("li",{children:(0,g.jsxs)("a",{className:m.Qg,"data-test-id":"analyticsConversionInsights",href:T("/conversion-insights/"),onClick:(0,a.l)(o,11560,t),children:[(0,g.jsx)(E.xu,{marginEnd:2,children:(0,g.jsx)(E.xv,{weight:"bold",children:i._('Conversion Insights', 'proPartnerHeader.analyticsMenuContent.conversionInsightsMenuItem', 'Conversion Insights button in analytics dropdown menu')})}),(0,g.jsx)(E.Ct,{text:i._('Beta', 'analyticsMenuContent.conversionInsightsMenuItem.badge', 'Badge denoting beta feature')})]})},"conversions"),b&&(0,g.jsx)("li",{children:(0,g.jsxs)("a",{className:m.Qg,"data-test-id":"trends",href:r.Z.settings.TRENDS_URL,onClick:(0,a.l)(o,11655,t),children:[(0,g.jsx)(E.xu,{marginEnd:2,children:(0,g.jsx)(E.xv,{weight:"bold",children:i._('Trends', 'proPartnerHeader.analyticsMenuContent.trendsMenuItem', 'Trends button in analytics dropdown menu')})}),(p||h)&&(0,g.jsx)(E.Ct,{text:i._('Beta', 'analyticsMenuContent.trendsMenuItem.badge', 'Badge denoting trends beta feature')})]})},"trends")]})}function y({advertiser:e,isAdsSite:s,isAnalyticsSite:t,user:i}){const{logContextEvent:o}=(0,_.v)(),r=(0,A.ZP)(),a=(0,n.useRef)(null),[l,c]=(0,n.useState)(!1);const d=i&&i.is_partner;return s||t||d?(0,g.jsxs)(E.xu,{"data-test-id":"analyticsButton",paddingX:m.Lz,ref:a,children:[(0,g.jsx)(E.zx,{accessibilityExpanded:!0,accessibilityHaspopup:!0,accessibilityLabel:r._('Analytics menu button', 'proPartnerHeader.analyticsMenu.button', 'Analytics menu button'),color:"white",iconEnd:"arrow-down",onClick:function(){c(!l),o({event_type:101,component:10039,element:10093})},selected:l,size:"lg",text:r._('Analytics', 'proPartnerHeader.analyticsMenu.title', 'Analytics menu button title')}),l&&(0,g.jsx)(E.J2,{anchor:a.current,idealDirection:"down",onDismiss:()=>c(!1),children:(0,g.jsx)(N,{advertiser:e,isAnalyticsSite:t,onItemClick:()=>{c(!1)}})})]}):null}var O=t(385269),w=t(141452),z=t(941646);function L({isAdsSite:e,isAnalyticsSite:s,isTrendsSite:t,onMenuItemClick:n}){var i;const o=(0,A.ZP)(),r=(0,I.B)(),a=null===(i=r.advertiser)||void 0===i?void 0:i.id;return(0,g.jsxs)("ul",{className:m.cF,children:[(0,g.jsx)("li",{children:(0,g.jsx)(z.Z,{id:"business-hub",children:(0,g.jsx)(E.iP,{role:"link",onTap:({event:e})=>{n("business hub"),e.stopPropagation()},href:(0,w.Z)({isAdsSite:e,isAnalyticsSite:s,isTrendsSite:t,path:"/business/hub",advertiserId:a,requestContext:r}),rounding:2,children:(0,g.jsx)("div",{className:m.Qg,children:(0,g.jsx)(E.xv,{weight:"bold",children:o._('Business hub', 'proPartnerHeader.businessMenuController.businessMenuContent', 'Business Hub button in pro partner header business button')})})})})},"business-hub"),(0,g.jsx)("li",{children:(0,g.jsx)(z.Z,{id:"homefeed",children:(0,g.jsx)(E.iP,{role:"link",onTap:({event:e})=>{e.stopPropagation(),n("homefeed")},href:(0,w.Z)({isAdsSite:e,isAnalyticsSite:s,isTrendsSite:t,path:"/homefeed/",requestContext:r}),rounding:2,children:(0,g.jsx)("div",{className:m.Qg,children:(0,g.jsx)(E.xv,{weight:"bold",children:o._('Home feed', 'proPartnerHeaderPartner.businessMenuController.businessMenuContent', 'Homefeed button in pro partner header business button')})})})})},"homefeed")]})}function D({advertiser:e,isAdsSite:s,isAnalyticsSite:t,isTrendsSite:i}){const{logContextEvent:o}=(0,_.v)(),r=(0,A.ZP)(),a=(0,n.useRef)(null),[l,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),{isInBiznuxFullscreen:p}=(0,O.J)();let h="transparent";return l?h="#111111":d&&(h="#F0F0F0"),(0,g.jsx)(E.xu,{paddingX:m.Lz,ref:a,children:(0,g.jsx)(E.iP,{onMouseEnter:()=>u(!d),onMouseLeave:()=>u(!d),onTap:()=>{c(!l),o({event_type:101,element:11806})},rounding:"pill",disabled:!!p,children:(0,g.jsxs)(E.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:h}},display:"flex",minHeight:48,padding:2,rounding:"pill",children:[(0,g.jsx)(E.xu,{paddingX:1,children:(0,g.jsx)(E.JO,{accessibilityLabel:r._('Pinterest', 'proPartnerHeader.partnerBadge.pinterestIcon', 'Pinterest icon'),color:l?"inverse":"brandPrimary",icon:"pinterest",size:24})}),(0,g.jsx)(E.xu,{paddingX:1,children:(0,g.jsx)(E.xv,{color:l?"inverse":"default",weight:"bold",children:r._('Business', 'proPartnerHeader.partnerBadge', 'Pinterest Business partner badge')})}),!p&&(0,g.jsx)(E.xu,{paddingX:1,children:(0,g.jsx)(E.JO,{accessibilityLabel:r._('Business badge dropdown menu button', 'proPartnerHeader.partnerBadge.dropdownIcon', 'Chevron arrow in pro partner header business button'),color:l?"inverse":"default",icon:"arrow-down",size:12})}),l&&(0,g.jsx)(E.J2,{anchor:a.current,idealDirection:"down",onDismiss:()=>c(!1),children:(0,g.jsx)(L,{advertiser:e,isAdsSite:s,isAnalyticsSite:t,isTrendsSite:i,onMenuItemClick:e=>{let s;c(!1),u(!1),"business hub"===e?s=11808:"homefeed"===e&&(s=11807),o({event_type:101,element:s})}})})]})})})}var M=t(724152),j=t(333312),k=t(869636),H=t(781153);const G=new E.Ry(1e3);function U({anchor:e,children:s,color:t,idealDirection:n,onDismiss:i,positionRelativeToAnchor:o,showCaret:r,shouldFocus:a,size:l}){return(0,g.jsx)(H.Z,{children:(0,g.jsx)(E.xu,{zIndex:G,children:(0,g.jsx)(E.J2,{anchor:e,color:t,idealDirection:n,onDismiss:i,positionRelativeToAnchor:o,showCaret:r,shouldFocus:a,size:l,children:s})})})}var Z=t(497529),B=t(276775);function F(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}const Y=1000109;class W extends n.PureComponent{constructor(...e){super(...e),F(this,"state",{CreateMenuContent:null,CreateMenuModals:null,showReportBug:!1,showStoryPinAccess:!1,StoryPinAccessModal:null,showFlyout:!1}),F(this,"buttonRef",(0,n.createRef)()),F(this,"containerRef",(0,n.createRef)()),F(this,"mounted",!1),F(this,"showReportBugModal",(()=>{this.setState({showReportBug:!0,showFlyout:!1})})),F(this,"clearModal",(()=>{this.setState({showReportBug:!1,showStoryPinAccess:!1,showFlyout:!1})})),F(this,"hideFlyout",(()=>{this.setState({showFlyout:!1})})),F(this,"canRender",(()=>{const{isAuthenticated:e,user:s}=this.props,t=s&&s.is_partner;return e&&t})),F(this,"handleStoryPinRequestAccessMenuItemClick",(()=>{this.props.logContextEvent({event_type:101,component:10039,element:12231}),this.setState({showStoryPinAccess:!0,showFlyout:!1})})),F(this,"handleClick",(()=>{const{experience:e,experienceClient:s}=this.props,{showFlyout:t}=this.state;this.props.logContextEvent({event_type:101,component:10039,element:10064}),!t&&e&&s.completeExperience(Y,e.experience_id),this.setState((e=>({showFlyout:!e.showFlyout})))}))}componentDidMount(){this.mounted=!0,this.canRender()&&(t.e(73932).then(t.bind(t,428513)).then((e=>{this.mounted&&this.setState({CreateMenuContent:e.default})})),t.e(5445).then(t.bind(t,462136)).then((e=>{this.mounted&&this.setState({CreateMenuModals:e.default})})),Promise.resolve().then(t.bind(t,375728)).then((e=>{this.mounted&&this.setState({StoryPinAccessModal:e.default})})))}componentWillUnmount(){this.mounted=!1}render(){const{isSterlingOnSteroids:e,user:s,location:t}=this.props,{CreateMenuContent:i,CreateMenuModals:o,showFlyout:r,showReportBug:a,showStoryPinAccess:l,StoryPinAccessModal:c}=this.state;let d=null;return e&&({outline:0}.backgroundColor="transparent"),this.canRender()&&(d=(0,g.jsxs)(E.xu,{ref:this.containerRef,children:[(0,g.jsx)(E.xu,{"data-test-id":"pro-partner-header-create-menu",paddingX:m.Lz,ref:this.buttonRef,children:(0,g.jsx)(E.zx,{accessibilityExpanded:!0,accessibilityHaspopup:!0,accessibilityLabel:this.props.i18n._('Create menu dropdown', 'proPartnerHeader.createMenu.button', 'Create menu button showing create options'),color:"white",iconEnd:"arrow-down",onClick:this.handleClick,selected:r,size:"lg",text:this.props.i18n._('Create', 'proPartnerHeader.createMenu.title', 'create menu dropdown on header navigation bar')})}),r&&i?(0,g.jsx)(U,{anchor:this.buttonRef.current,idealDirection:"down",onDismiss:this.hideFlyout,size:"md",children:(0,g.jsx)(i,{...this.props,showReportBugModal:this.showReportBugModal,showStoryPinRequestAccessModal:this.handleStoryPinRequestAccessMenuItemClick,onClick:this.hideFlyout})},"Flyout"):null,o&&a&&(0,g.jsx)(o,{clearModal:this.clearModal,username:s?s.username:null}),c&&l&&(0,g.jsx)(c,{onDismiss:this.clearModal}),!r&&"/business/onboarding/"!==t.pathname&&(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(j.default,{showCaret:!0,anchor:this.containerRef.current,experienceIds:[502449],flyoutSize:"md",idealDirection:"down",placementId:Y,textAlign:"center",textWeight:"normal"}),(0,g.jsx)(j.default,{showCaret:!0,anchor:this.containerRef.current,experienceIds:[502545],flyoutSize:"md",idealDirection:"down",placementId:Y,textAlign:"center",textWeight:"normal"}),(0,g.jsx)(j.default,{anchor:this.containerRef.current,experienceIds:[501923],flyoutSize:"md",fontSize:"100",idealDirection:"down",placementId:Y,textOverflow:"normal"})]})]})),d}}function V(e){const{logContextEvent:s}=(0,_.v)(),t=(0,A.ZP)(),n=(0,Z.Z)(),{experience:i}=(0,k.Z)(Y,{pin_id:e.pinId});return(0,g.jsx)(W,{...e,location:(0,B.TH)(),i18n:t,experienceClient:n,experience:i,logContextEvent:s})}var K=t(19121);function X({children:e,path:s=""}){const t=(0,K.Z)(),n={bag:"shop_pins",explore:"discover",home:"",homefeed:"homefeed",profile:t&&t.username||"",search:"search",engagement:"engagement",today:"today",shopping:"your-shop"};return e({page:Object.keys(n).find((e=>n[e]===s.split("/",2)[1]))})}var q=t(294184),Q=t.n(q),$=t(272944),J=t(16035),ee=t(761038);const se=function({onClick:e,href:s,isCurrentAccount:t,user:n,dataTestId:i}){const o=(0,A.ZP)(),r=()=>(0,g.jsx)(E.Zb,{children:(0,g.jsxs)(E.kC,{alignContent:"between",alignItems:"center",gap:{row:2,column:0},children:[(0,g.jsx)(ee.Z,{user:n,isCurrentAccount:t}),t&&(0,g.jsx)(E.JO,{color:"default",icon:"check",accessibilityLabel:o._('Selected option', 'header.accountsOptionsMenu.selectedIcon', 'Icon to selected indication')})]})});return(0,g.jsx)(z.Z,{id:i||"header_accounts_options_menu_accounts_profile_rep",children:s?(0,g.jsx)(E.iP,{role:"link",onTap:e,href:s,children:(0,g.jsx)(r,{})}):(0,g.jsx)(E.iP,{onTap:e,children:(0,g.jsx)(r,{})})})};var te=t(79830),ne=t(307593);function ie({accounts:e,closeFlyout:s,handleAccountRepClick:t,handleLinkedAccountSwitch:i,isWwwSite:o}){var a;const{logContextEvent:l}=(0,_.v)(),c=(0,A.ZP)(),d=(0,K.Z)(),u=(0,B.k6)();(0,n.useEffect)((()=>{e.length>1&&l({event_type:13,view_type:234,component:13369,element:12722})}),[l,e]);let p=e.filter((e=>!e.partner&&!(e.owners||[]).length||e.partner&&!e.partner.isLinkedBusiness));const h=e.find((e=>e.id===(d.isAuth&&d.id))),m=d.isAuth&&(null===(a=d.partner)||void 0===a?void 0:a.is_linked_business);m&&(p=p.sort((e=>{var s;return null!=h&&null!==(s=h.owners)&&void 0!==s&&s.some((s=>s.id===e.id))?-1:1})));const b=e=>e.businesses&&e.businesses.length?e.businesses.map((s=>d.id!==s.id&&(0,g.jsx)(E.xu,{paddingY:2,children:(0,g.jsx)(se,{onClick:()=>i(s,e.id),dataTestId:"lba-account-switch-option",user:s})},s.id))):null;return(0,g.jsxs)(E.xu,{padding:4,children:[(0,g.jsx)(E.xv,{size:"100",children:c._('Currently in', 'SwitchAccountsList.CurrentlyInTitle', 'Title for currently logged in account on Switch Account Page')}),!!h&&(0,g.jsx)(E.xu,{paddingY:4,children:(0,g.jsx)(se,{onClick:()=>m?i(h,void 0):t(h),href:`/${h.username}/`,user:h,isCurrentAccount:!0},h.id)}),(0,g.jsx)(E.xu,{paddingY:2,children:(0,g.jsx)(E.xv,{size:"100",children:c._('Your accounts', 'SwitchAccountsList.YourAccountsTitle', 'Title for the list of user\'s accounts available for switching on Switch Account Page')})}),h&&b(h),p.map((e=>(d.isAuth&&d.id)!==e.id?(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(E.xu,{paddingY:2,children:(0,g.jsx)(se,{onClick:()=>t(e),user:e,isCurrentAccount:!1})}),e.businesses.length>0&&(0,g.jsx)(E.xu,{paddingY:2,children:b(e)})]},e.id):null)),o&&(0,g.jsx)(E.xu,{paddingY:3,role:"list",children:(0,g.jsx)(z.Z,{id:"header-menu-add-account",children:(0,g.jsx)(E.iP,{onTap:()=>{(0,ne.CV)("add_account_click",null,te.W7),s(),u.push(r.Z.settings.ADD_SECONDARY_ACCOUNT_PAGE)},children:(0,g.jsx)(E.Zb,{children:(0,g.jsx)(E.xv,{weight:"bold",size:"300",children:c._('Add account', 'header.accountsOptionsMenu.addSecondaryAccountButton', 'Short text on the button that allows a user to add a new account or log in to another Pinterest account')})})})})})]})}var oe=t(842469),re=t(124580),ae=t(893209),le=t(966224),ce=t(6637),de=t(120767),_e=t(12610),ue=t(439181);const pe=te.W7;function he({isWwwSite:e,closeFlyout:s}){const{flushContextEvents:t,logContextEvent:i}=(0,_.v)(),[o,r]=(0,n.useState)(!1),[a,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[u,p]=(0,n.useState)(null),{userAccounts:h}=(0,ue.N)(),A=(0,K.Z)(),m=(0,de.Z)();(0,n.useEffect)((()=>((0,ne.CV)("modal.shown"),()=>{(0,ne.CV)("modal.dismiss")})),[]);const b=(e,s)=>{throw(0,ne.z3)(e,pe),d(!1),s};return(0,g.jsxs)(n.Fragment,{children:[c&&(0,g.jsx)(le.Z,{}),u?(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(E.Zb,{children:(0,g.jsx)(E.xu,{padding:2,children:(0,g.jsx)(ee.Z,{user:u})})}),(0,g.jsx)(oe.Z,{failedAccount:u,handleReauthAccount:()=>{(0,ne.CV)("switch_failure_prompt.login_click",null,pe),p(null),r(!0)},handleRemoveUnauthAccount:e=>{(0,ne.CV)("switch_failure_prompt.account_removed",{removed_user_id:e},pe),(0,ne.RD)(e),p(null)}})]}):(0,g.jsx)(ie,{accounts:h,handleAccountRepClick:s=>{A.isAuth&&s.id!==A.id&&(s=>{const{id:n}=s;d(!0),i({event_type:101,component:13369,element:11196}),(0,ne.CV)("switch_account_click",{destination_user_id:n},pe);const o={get_user:!0,switch_account:n};re.Z.pause(_e.LU),t(!0),m({creds:o,loggingData:{container:"account_switcher"},isAccountSwitch:!0}).then(((t={})=>{var i,o;if(null!=t&&null!==(i=t.resource_response)&&void 0!==i&&null!==(o=i.data)&&void 0!==o&&o.user){const t=e?(0,J.Z)(s):"/";(0,ne.iS)(t,n,pe)}else(0,ne.CV)("no_api_access_token",{destination_user_id:n},pe),(0,ne.z3)(n,pe),p(s),d(!1)}),(e=>{b(n,e)}))})(s)},handleLinkedAccountSwitch:(s,n)=>{const{partner:o}=s;if(d(!0),i({event_type:101,component:13369,element:null!=o&&o.isLinkedBusiness?11195:11194}),re.Z.pause(_e.LU),t(!0),null!=o&&o.isLinkedBusiness){const e={business_id:s.id,get_user:!0,owner_id:n};m({creds:e,loggingData:{container:"account_switcher"},isAccountSwitch:!0}).then((e=>{(0,ne.iS)("/",s.id,pe)}),(e=>{b(s.id,e)}))}else ce.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then((()=>{A.isAuth&&((0,ne.RD)(A.id),(0,ne.iS)(e?`/${s.username}`:"/",A.id,pe))}),(e=>{A.isAuth&&b(A.id,e)}))},closeFlyout:s,isWwwSite:e}),a&&(0,g.jsx)(ae.default,{onDismiss:()=>{l(!1),s()}}),o&&(0,g.jsx)($.Z,{container:pe,email:(null==u?void 0:u.email)||"",onClose:()=>r(!1)})]})}var Ae=t(506708);const me=function({children:e,onClick:s=(()=>{}),href:t,dataTestId:n,isExternal:i}){const o=(0,A.ZP)(),r=()=>(0,g.jsx)(E.Zb,{children:(0,g.jsxs)(E.kC,{justifyContent:"between",alignItems:"center",children:[(0,g.jsx)(E.xv,{weight:"bold",size:"300",children:e}),i&&(0,g.jsx)(E.JO,{accessibilityLabel:o._('Indicator of external link', 'header.accounts.options.menu.item.rep.link.indicator', 'Icon to indicate the link to a external page, outside of pinterest'),icon:"arrow-up-right",color:"default",size:12})]})});return(0,g.jsx)(z.Z,{id:n||"header_accounts_options_menu_item_rep",children:(0,g.jsx)(E.xu,{paddingY:2,role:"listitem",children:t?(0,g.jsx)(E.iP,{role:"link",href:t,rel:i?"nofollow":void 0,target:i?"blank":void 0,onTap:s,children:(0,g.jsx)(r,{})}):(0,g.jsx)(E.iP,{onTap:s,children:(0,g.jsx)(r,{})})})})};var Ee=t(551327),ge=t(511851);function be(e){const{logContextEvent:s}=(0,_.v)(),t=(0,A.ZP)(),{checkExperiment:n}=(0,u.F)(),{advertiser:i,closeFlyout:a,isAdsSite:l,isAdsNavMenuEnabled:c,isAnalyticsSite:d,isTrendsSite:p,isWwwSite:h,onStoryPinRequestAccessMenuItemClick:m}=e,{anyEnabled:b}=n("web_android_ios_story_pin_access"),{anyEnabled:P}=n("web_story_pin_creator"),S=(0,K.Z)(),T=S.isAuth&&!!S.isEmployee,{handleShowReportBugModal:x}=(0,ge.Z)(),f=(0,Ee.Z)(),{isLoaded:C,data:I}=(0,v.Z)({name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:"user.content_claiming_access"}}}),{content_claiming_access:R=!1}=I||{},N=e=>{s({event_type:101,component:8,element:e}),a()},y=h&&!(l||d||p)?"":r.Z.settings.CANONICAL_MAIN_URL,O=!!S.isAuth&&S.isPartner;return(0,g.jsxs)(E.xu,{paddingX:4,marginBottom:3,role:"list",children:[b&&!P&&(0,g.jsx)(me,{onClick:m,children:t._('Request access to Idea Pins', 'partnerHeader.accountsOptionsMenu.ideaPinsRequestAccess', 'menu item to show upsell modal for requesting Idea Pins creation access')}),(0,g.jsx)(E.xu,{paddingY:2,children:(0,g.jsx)(E.xv,{size:"100",children:t._('More options', 'header.accountsOptionsMenu.optionsHeader', 'header for options section of menu')})}),C&&R&&(0,g.jsx)(me,{href:"/content-claiming",children:t._('Content Claiming Portal', 'header.accountsOptionsMenu.contentManagementPortal', 'menu item linking to the content management portal')}),T&&(0,g.jsx)(me,{onClick:()=>{x(),a()},children:t._('Report a bug', 'header.accountsOptionsMenu.reportBug', 'menu item to show employee-only report bug modal')}),(0,g.jsx)(me,{dataTestId:"header-menu-options-settings",onClick:()=>N(247),href:`${y}/settings`,children:t._('Settings', 'header.accountsOptionsMenu.settings', 'menu item linking to your settings')}),O&&(0,g.jsx)(me,{onClick:()=>N(11719),href:`https://${(0,Ae.Z)()}/business/business-access/`,dataTestId:"header-menu-options-business-access",children:t._('Business Access', 'Link to business Access Landing Page', 'A button that links to business access')}),(0,g.jsx)(me,{onClick:()=>N(11345),href:`${y}/edit`,children:t._('Tune your home feed', 'header.accountsOptionsMenu.homefeedTuner', 'menu item linking to home feed editor')}),(l||c)&&(w=7,!i||(0,o.Z)((i||{}).actions||[],w))&&(0,g.jsx)(me,{dataTestId:"header-menu-options-ads-support",onClick:()=>N(10106),href:r.Z.settings.PARTNER_SITE_ADS_SUPPORT_URL,isExternal:!0,children:t._('Ads support', 'header.aaccountsOptionsMenu.adsSupport', 'menu item linking to ads support')}),(0,g.jsx)(me,{onClick:()=>N(11200),href:r.Z.settings.HELP_CENTER_REQUEST_A_FEATURE+"?utm_source=pinterest&utm_medium=settings&utm_campaign=request_a_feature_exp",isExternal:!0,children:t._('Request a feature', 'header.accountsOptionsMenu.requestAFeature', 'menu item linking to request a feature page in help center')}),(0,g.jsx)(me,{dataTestId:"header-menu-options-help",onClick:()=>N(8002),href:`${r.Z.settings.HELP_URL}?source=gear_menu_web`,isExternal:!0,children:t._('Get help', 'header.accountsOptionsMenu.getHelp', 'menu item linking to the help center')}),(0,g.jsx)(me,{dataTestId:"header-menu-options-tos",onClick:()=>N(8004),href:r.Z.settings.POLICY_PRIVACY_URL,isExternal:!0,children:t._('See terms and privacy', 'header.accountsOptionsMenu.tosPrivacy', 'menu item linking to our terms and privacy')}),(0,g.jsx)(me,{dataTestId:"header-menu-options-logout",onClick:f,children:t._('Log out', 'header.accountsOptionsMenu.logout', 'menu item that logs you out of your Pinterest account')})]});var w}function Pe(e){const{advertiser:s,closeFlyout:t,isAdsSite:n,isAdsNavMenuEnabled:i,isAnalyticsSite:o,isTrendsSite:r,isManagedAdvertiser:a,isWwwSite:l,onStoryPinRequestAccessMenuItemClick:c,user:d}=e,{checkExperiment:_}=(0,u.F)(),p=l||o&&_("web_analytics_switch_to_lba").anyEnabled||n&&_("web_ads_switch_to_lba").anyEnabled;return(0,g.jsxs)(E.xu,{maxWidth:360,minWidth:180,width:"100%",children:[p&&(0,g.jsx)(he,{closeFlyout:t,isWwwSite:l}),(0,g.jsx)(be,{advertiser:s,closeFlyout:t,isAdsNavMenuEnabled:i,isAdsSite:n,isAnalyticsSite:o,isTrendsSite:r,isManagedAdvertiser:a,isWwwSite:l,onStoryPinRequestAccessMenuItemClick:c,user:d})]})}var Se=t(201819);function Te(e){const s=(0,K.Z)(),{data:t}=(0,Se.iY)();(0,n.useEffect)((()=>(s.isAuth&&(0,ne.Mt)(s,t),()=>{(0,ne.CV)("flyout.dismiss")})),[]);const{advertiser:i,anchor:o,isAdsSite:r,isAdsNavMenuEnabled:a,isAnalyticsSite:l,isTrendsSite:c,isManagedAdvertiser:d,isWwwSite:_,onDismiss:u,onStoryPinRequestAccessMenuItemClick:p,user:h}=e;return(0,g.jsx)(U,{anchor:o,idealDirection:"down",onDismiss:u,size:292,children:(0,g.jsx)(Pe,{advertiser:i,closeFlyout:u,isAdsNavMenuEnabled:a,isAdsSite:r,isAnalyticsSite:l,isTrendsSite:c,isManagedAdvertiser:d,isWwwSite:_,onStoryPinRequestAccessMenuItemClick:p,user:h})})}var xe=t(375728),ve=t(53987),fe=t(539278),Ce=t(343341);function Ie(e){const{logContextEvent:s}=(0,_.v)(),t=(0,A.ZP)(),{showAccountMenuFlyout:i,updateHeaderState:o}=(0,O.J)(),r=(0,B.TH)(),a=(0,B.k6)(),l=(0,Ce.F9)(),c=(0,K.Z)();(0,n.useEffect)((()=>{(0,fe.rL)({showOneToast:l.showOneToast,i18n:t,location:r,history:a,username:c.username||"",fullName:c.fullName||"",avatarUrl:c.imageMediumUrl||""})}),[]);const d=e=>{o({type:e?"showAccountMenuFlyout":"hideAccountMenuFlyout"})},[u,p]=(0,n.useState)(!1),[h,m]=(0,n.useState)(!1),b=(0,n.useRef)(),{advertiser:P,isAdsSite:S,isAdsNavMenuEnabled:T,isAnalyticsSite:x,isTrendsSite:v,isManagedAdvertiser:f,isWwwSite:C,user:I}=e;return(0,n.useEffect)((()=>{c.partner&&c.partner.is_linked_business&&p(!0)}),[]),(0,g.jsxs)(ge.j,{children:[(0,g.jsx)(E.xu,{ref:b,"data-test-id":"header-accounts-options-button",children:(0,g.jsx)(E.hU,{accessibilityLabel:t._('Accounts and more options', 'header.accountsOptionsMenu.accountsOptionsMenuButton', 'accessibility label for the button that shows the accounts/options menu'),icon:"arrow-down",iconColor:i?"darkGray":"gray",onClick:()=>{d(!i),p(!1)},size:"xs"})}),h&&(0,g.jsx)(xe.default,{onDismiss:()=>m(!1)}),i&&(0,g.jsx)(z.Z,{id:"HeaderAccountsOptionsFlyout",children:(0,g.jsx)(Te,{advertiser:P,anchor:b.current,isAdsNavMenuEnabled:T,isAdsSite:S,isAnalyticsSite:x,isTrendsSite:v,isManagedAdvertiser:f,isWwwSite:C,onDismiss:()=>d(!1),onStoryPinRequestAccessMenuItemClick:()=>{s({event_type:101,element:12231,view_type:7}),m(!0)},user:I})}),u&&(0,g.jsx)(z.Z,{id:"LinkedBusinessAccountFlyout",children:(0,g.jsx)(j.default,{anchor:b.current,experienceIds:[502787],placementId:1000109,showCaret:!0})}),(0,ve.LO)(r)&&(0,g.jsx)(j.default,{anchor:b.current,idealDirection:"left",experienceIds:[503137],placementId:1000303})]})}var Re=t(649869),Ne=t(172931),ye=t(102800),Oe=t(829407),we=t(934523),ze=t(403014);function Le({selected:e}){const s=(0,A.ZP)(),{logContextEvent:t}=(0,_.v)(),n={view_type:1,view_parameter:92,component:8,element:13962};return(0,Oe.Z)((()=>{t({event_type:120,...n})})),(0,g.jsx)(ye.Z,{accessibilityLabel:s._('Your Shop entry point', 'header.your.shop', 'Entry point icon to the Your Shop page'),compactMode:!0,icon:(0,g.jsx)(E.JO,{accessibilityLabel:s._('Shopping bag icon', 'header.shopping.icon', 'Shopping bag icon'),color:e?"default":"subtle",icon:"shopping-bag",size:we.L1}),url:`/${ze.Og}`,onClick:()=>{t({event_type:101,...n})}})}t(237215);var De=t(53090),Me=t(172071),je=t(917394),ke=t(389643),He=t(898708),Ge=t(852260),Ue=t(349700),Ze=t(869899);const Be=({label:e,imgUrl:s,subtext:t})=>(0,g.jsxs)(E.kC,{gap:{row:3,column:0},width:"100%",children:[(0,g.jsx)(E.qE,{name:e,src:s,size:"sm"}),(0,g.jsxs)(E.kC,{gap:{row:0,column:1},direction:"column",children:[(0,g.jsx)(E.xv,{weight:"bold",size:"200",children:e}),(0,g.jsx)(E.xv,{size:"100",color:"subtle",children:t})]})]}),Fe=()=>{var e,s,t,i,o;const{logContextEvent:r}=(0,_.v)(),a=(0,A.ZP)(),l=(0,Ze.useRoleBasedAccessControlContext)(),[c,d]=(0,n.useState)(!1),u=(0,ke.Z)(null!==(e=null==l?void 0:l.profiles)&&void 0!==e?e:[]),p=(0,n.useRef)(null),{push:h}=(0,B.k6)(),m=(0,B.TH)(),b=(0,K.Z)(),P=new E.Ry(10);if(!1===b.isAuth||void 0===l)return null;const{profiles:S=[],changeProfile:T,activeProfile:x}=l;if(!x)return null;const{id:v,user:{username:f,businessName:C="",imgUrl:I}={}}=x,R={value:v,label:C},N=v===b.id,y=e=>()=>{if("string"==typeof u&&u!==e)if(e===b.id)r({event_type:9709,element:12698,component:13944,aux_data:{element_id:"Profile Selector Toggle",component_id:"ORBAC Header",current_page_url:m.pathname,page_url:`/${b.username}/`,user_action_status:"changeProfile",user_id:b.id,profile_id:e}}),h(`/${b.username}/`);else{const{user:{username:s}={}}=S.find(((s={})=>(null==s?void 0:s.id)===e))||{};r({event_type:9709,element:12698,component:13944,aux_data:{element_id:"Profile Selector Toggle",component_id:"ORBAC Header",current_page_url:m.pathname,page_url:`/${s}/`,user_action_status:"changeProfile",user_id:b.id,profile_id:e}}),h(`/${s}/`)}else r({event_type:9709,element:12698,component:13944,aux_data:{element_id:"Profile Selector Toggle",component_id:"ORBAC Header",current_page_url:m.pathname,user_action_status:"changeProfile",user_id:b.id,profile_id:e}}),T(e);r({event_type:9709,element:12698,component:13944,aux_data:{element_id:"Profile Selector Toggle",component_id:"ORBAC Header",current_page_url:m.pathname,user_action_status:"close",user_id:b.id}}),d(!1)};return(0,g.jsx)(E.xu,{"data-test-id":"orbac-profile-selector",children:(0,g.jsxs)(E.kC,{alignItems:"center",gap:{row:2,column:0},children:[(0,g.jsx)(E.xu,{ref:p,children:(0,g.jsx)(E.iP,{role:"link",href:`/${f}/`,children:(0,g.jsx)(E.qE,{name:C,src:I,size:"sm"})})}),(0,g.jsx)(E.zx,{size:"md",color:"gray",text:(0,Ue.nk)(a._('Working on: {{profile}}', '[m10n]bizAccess.orbacHeader.selector', 'Selector label for selecting a profile'),{profile:N?a._('Your profile', '[m10n]bizAccess.orbacHeader.yourProfile', 'Label for being on your profile'):C}).join(""),iconEnd:c?"arrow-up":"arrow-down",onClick:()=>{r({event_type:9709,element:12698,component:13944,aux_data:{element_id:"Profile Selector Toggle",component_id:"ORBAC Header",current_page_url:m.pathname,user_action_status:c?"close":"open",user_id:b.id}}),d(!c)}}),(0,g.jsx)(je.Z,{}),c&&(0,g.jsxs)(E.Lt,{zIndex:P,anchor:p.current,id:"rbac-profile-dropdown",onDismiss:()=>{r({event_type:9709,element:12698,component:13944,aux_data:{element_id:"Profile Selector Toggle",component_id:"ORBAC Header",current_page_url:m.pathname,user_action_status:"close",user_id:b.id}}),d(!1)},children:[(0,g.jsx)(E.Lt.Section,{label:a._('Your profile', '[m10n]bizAccess.orbacHeader.yourProfile', 'Label for being on your profile'),children:b&&[(0,g.jsx)(E.Lt.Item,{onSelect:y(b.id),option:{value:b.id,label:null!==(s=null!==(t=b.firstName)&&void 0!==t?t:b.fullName)&&void 0!==s?s:b.username},selected:R,children:(0,g.jsx)(Be,{subtext:a._('Owner', '[m10n]bizAccess.orbacHeader.dropdown.profileOwner', 'Description of the profile owner'),imgUrl:b.imageSmallUrl,label:null!==(i=null!==(o=b.firstName)&&void 0!==o?o:b.fullName)&&void 0!==i?i:b.username})},b.id)]}),(0,g.jsx)(E.Lt.Section,{label:a._('Switch to profiles shared with you', '[m10n]bizAccess.orbacHeader.dropdown.otherProfilesHeader', 'Header for other profiles you can access'),children:[...S.map((e=>{if(!e)return null;const{id:s,user:{businessName:t,imgUrl:n},permissions:i}=e;return(0,g.jsx)(E.Lt.Item,{onSelect:y(s),option:{value:s,label:t},selected:R,children:(0,g.jsx)(Be,{imgUrl:n,label:t,subtext:i.map((0,He.e6)(a)).join((0,Ge.bH)(a))})},s)}))]})]})]})})};var Ye=t(62922);const We=()=>{const{logContextEvent:e}=(0,_.v)(),s=(0,A.ZP)(),{checkExperiment:t}=(0,u.F)(),i=(0,Ze.useRoleBasedAccessControlContext)(),o=(0,Ye.Z)(),{headerVisible:r=!1,activeProfile:a}=i||{},l=null==a?void 0:a.id,c=t("web_m10n_business_access_orbac_www").anyEnabled,d=(0,B.TH)(),p=(0,K.Z)(),h=p.isAuth&&p.id;return(0,n.useEffect)((()=>{c&&r&&(Me.Z.increment("web.business_access.orbac.header.view",1),e({event_type:13,view_type:465,component:13653,aux_data:{business_id:l,session_id:o}}))}),[e,o,l,r,c]),c&&r?(0,g.jsx)(E.xu,{width:"100%",color:"default","data-test-id":"rbac-header-background",children:(0,g.jsxs)(E.xu,{display:"flex",smMarginEnd:4,smMarginStart:4,alignItems:"center",justifyContent:"between",height:we.hu,children:[(0,g.jsx)(Fe,{}),(0,g.jsx)(E.kC,{justifyContent:"between",gap:{row:2,column:0},alignItems:"center",children:(0,g.jsx)(E.zx,{role:"link",size:"md",color:"transparent",text:s._('Back to Business Access', '[m10n]bizAccess.orbacHeader', 'link back to business access'),onClick:()=>{e({event_type:9709,element:11719,component:13944,aux_data:{element_id:"Back to business access",component_id:"ORBAC Header",current_page_url:d.pathname,user_id:h}})},href:"/business/business-access/"})})]})}):null};var Ve=t(749454),Ke=t(473377),Xe=t(717615),qe=t(49023),Qe=t(7893),$e=t(224525);function Je(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}const es=72;class ss extends n.Component{constructor(...e){super(...e),Je(this,"state",{showSearchIconOnly:!0}),Je(this,"fetchUserAccounts",(()=>{const{userAccountsRetrieved:e,viewer:s}=this.props;s.isAuth&&(0,Qe.dD)(s).then((s=>{e(s)}))})),Je(this,"isActionPermitted",(e=>{const{legacyServerContext:s}=this.props;return!(!s.is_authenticated||s.advertiser)||(0,o.Z)((s.advertiser||{}).actions||[],e)})),Je(this,"profileRef",(0,n.createRef)())}componentDidMount(){this.fetchUserAccounts()}isSterlingSite(e){return"STERLING"===e}isAnalyticsSite(e){return"ANALYTICS"===e}isTrendsSite(e){return"TRENDS"===e}render(){var e;const{activeORBACProfile:s,checkExperiment:t,isFlyOutMenuUnificationExperiment:i,advertiserSwitcherDropdown:o,businessUser:a,currentSite:l,className:c,history:d,isShoppingCatalogs:_,isInBiznuxFullscreen:u,legacyServerContext:p,location:h,nags:A,suppressSearchBox:m,user:b}=this.props,P=h.pathname.split("/");let S;4===P.length&&"pin"===P[1]&&P[2].length>10&&(S=P[2]);const x=b&&b.data&&b.data.pin_count,{showSearchIconOnly:v}=this.state,{advertiser:f,is_sterling_on_steroids:C,is_managed_advertiser:I,sterling_on_steroids_ldap:R,sterling_on_steroids_user_type:N,user:O}=p,w=this.isSterlingSite(l),z=this.isAnalyticsSite(l),L=this.isTrendsSite(l),j=(p.enabled_advertiser_countries||[]).includes(p.user.country),k=C&&O&&O.is_partner,H=(0,$e.HF)();let G=(0,$e.Kn)({redirect:(0,$e.HF)()}),U=(0,$e.Kn)();w||(G=r.Z.settings.ADS_SITE_URL+G,U=r.Z.settings.ADS_SITE_URL+U);const Z=this.isActionPermitted(5),B=!(w||z||C||L),F=B&&!I&&void 0!==x&&(x||0)>0,Y=h.pathname!==H,W=!!O.domain_verified&&!!O.domain_url,K=b&&b.data&&b.data.show_engagement_tab,q=this.props.i18n._('You ({{ldap}}) are viewing: {{name}}', '[m10n]adminMode.impersonationLabel.sosV1', 'Admin Mode (SoS) header telling who (ldap) is impersonating the advertiser (name) using SoSv1'),$=B&&(null===(e=b.data)||void 0===e?void 0:e.show_personal_boutique)&&t("web_your_shop_partner_exp").anyEnabled;return(0,g.jsx)("div",{className:Q()(c,{PartnerHeader:k}),children:(0,g.jsx)(X,{path:h.pathname,children:({page:e})=>(0,g.jsxs)(E.xu,{color:"default",column:12,children:[A,(0,g.jsx)(E.xu,{children:(0,g.jsx)("div",{className:Q()({adminModeBackground:k}),children:(0,g.jsx)(E.xu,{"data-test-id":"pro-partner-header",paddingX:3,paddingY:1,children:(0,g.jsxs)(E.xu,{alignItems:"center","aria-label":this.props.i18n._('Primary navigation header', '[m10n]proPartnerHeader.label', 'Accessibility label for the Pro Partner Header'),column:12,display:"flex",height:es,role:"navigation",children:[(0,g.jsx)(D,{advertiser:f,isAdsSite:w,isAnalyticsSite:z,isTrendsSite:L}),(Z||s&&s.id)&&!u&&(0,g.jsx)(V,{advertiser:f,eligibleForQuickPromotePinSelection:F,isAdsNavMenuEnabled:j,isAdsSite:w,isAnalyticsSite:z,isTrendsSite:L,isAuthenticated:p.is_authenticated,isSterlingOnSteroids:C,isWwwSite:B,pinId:S,user:O},"CreateMenuController"),this.isActionPermitted(55)&&!u&&(0,g.jsx)(y,{advertiser:f,isAdsSite:w,isAnalyticsSite:z,user:O}),(this.isActionPermitted(11)||this.isActionPermitted(32))&&!u&&(0,g.jsx)(T,{advertiser:f,isAdsNavMenuEnabled:j,isAdsSite:w,isShoppingCatalogs:_}),o,m||u?(0,g.jsx)(E.xu,{flex:"grow"}):d.push&&(0,g.jsx)(Ke.Z,{isPartner:!0,handleIconOnlyChange:e=>this.setState({showSearchIconOnly:e}),iconOnly:v,widthType:"sm"}),$&&(0,g.jsx)(Le,{selected:"shopping"===e}),C&&(0,g.jsxs)(E.kC,{alignItems:"center",justifyContent:"start",children:[(0,g.jsx)(E.xv,{weight:"bold",children:(0,Ue.nk)(q,{ldap:R,name:f?f.name:O.full_name})}),2===N&&(0,g.jsx)(E.xv,{weight:"bold",children:"Read only (#sos-oncall)"}),Y&&(0,g.jsx)(E.xu,{marginStart:2,marginEnd:2,children:(0,g.jsx)(E.rU,{href:G,onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,g.jsx)(E.zx,{size:"sm",text:this.props.i18n._('Admin Dashboard', '[m10n]', '[m10n]')})})}),(0,g.jsx)(E.xu,{marginStart:Y?0:2,children:(0,g.jsx)(E.rU,{href:U,onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,g.jsx)(E.zx,{color:"red",size:"sm",text:this.props.i18n._('Exit Admin Mode', '[m10n]', '[m10n]')})})})]}),!u&&(0,g.jsx)(qe.F,{value:{currentSite:l},children:(0,g.jsx)(M.Z,{})}),B&&(W||K)&&!u&&(0,g.jsx)(De.ZP,{compactMode:!0,isWwwSite:B,selected:"engagement"===e}),(0,g.jsx)(E.xu,{ref:this.profileRef,children:(0,g.jsx)(Ve.Z,{children:(0,g.jsx)(Ne.Z,{isAdsSite:w,isAnalyticsSite:z,isSelected:"profile"===e,isTrendsSite:L})})}),i?(0,g.jsx)(n.Fragment,{children:(0,g.jsx)(Re.Z,{currentSite:l,isSterlingOnSteroids:C,isAdsNavMenuEnabled:j,advertiser:f})}):(0,g.jsx)(Ie,{advertiser:f,isAdsNavMenuEnabled:j,isAdsSite:w,isAnalyticsSite:z,isManagedAdvertiser:!!(a&&a.data&&a.data.fast_advertiser_info_has_any_managed_advertisers),isTrendsSite:L,isWwwSite:B,user:O})]})})})}),(0,g.jsx)(We,{})]})})})}}function ts(e){const{checkExperiment:s}=(0,u.F)(),t=(0,C.u7)(),n=(0,K.Z)(),{isInBiznuxFullscreen:i}=(0,O.J)(),{userAccountsRetrieved:o}=(0,ue.N)(),{anyEnabled:r}=s("flyout_menu_unification_safety_exp"),a=(0,v.Z)({name:"UserResource",options:{username:n.isAuth?n.username:"",field_set_key:"profile"}}),l=(0,v.Z)({name:"UserResource",options:{user_id:n.isAuth?n.id:"",field_set_key:"linked_partner"}});return(0,g.jsx)(ss,{...e,activeORBACProfile:(0,Xe.Z)(),checkExperiment:()=>s("web_your_shop_partner_exp"),isFlyOutMenuUnificationExperiment:r,businessUser:l,history:(0,B.k6)(),i18n:(0,A.ZP)(),isInBiznuxFullscreen:i,legacyServerContext:t,location:(0,B.TH)(),toastManagerContext:(0,Ce.F9)(),user:a,userAccountsRetrieved:o,viewer:n})}},289615:(e,s,t)=>{t.d(s,{Lz:()=>o,Qg:()=>i,cF:()=>n});const n="ProPartnerHeaderMenuList",i="proPartnerHeaderMenuItem",o=1},55259:(e,s,t)=>{t.d(s,{Z:()=>l});var n=t(794230),i=t(619937);const o={campaignFilter:"all",adGroupFilter:"all",adFilter:"all"},r=e=>{let s={};return e&&(s={objectiveTypes:[e]}),s},a={overview:()=>"/",reporting:e=>{const s=e.objectiveType||null;delete e.objectiveType;const t={...e,...r(s)};return(0,n.Z)("/reporting/campaigns/",t)},reportingAdGroup:e=>{const{campaignId:s,objectiveType:t,showAllEntities:i,adGroupId:a,message:l}=e,c=a?{adGroupIds:[a]}:{},d={campaignIds:[s],...i?o:{},...r(t),...c,message:l};return(0,n.Z)("/reporting/adgroups/",d)},campaign:e=>{const{id:s,objectiveType:t}=e;return(0,n.Z)("/reporting/adgroups/",{campaignIds:[s],...r(t)})},editCampaign:e=>e.isAutomatedCampaign?a.editAutomated({campaignId:e.id,view:"campaign"}):a.editV2({campaignId:e.id,view:"campaign"}),adgroup:e=>{const{id:s,objectiveType:t,showAllEntities:i,pinPromotionId:a,campaignId:l}=e;if("TEMPORARY_SHOPPING"===t||"CATALOG_SALES"===t)return(0,n.Z)("/reporting/productgroups/",{adGroupIds:[s],...r(t)});{const e=i?o:{},c=l?{campaignIds:[l]}:{},d=a?{pinPromotionIds:[a]}:{};return(0,n.Z)("/reporting/ads/",{adGroupIds:[s],...r(t),...e,...d,...c})}},editAdGroup:e=>e.isAutomatedCampaign?a.editAutomated({campaignId:e.id,view:"campaign"}):a.editV2({adGroupId:e.id,view:"adgroup"}),pinPromotion:e=>{const{id:s,adFilter:t}=e,i=t?{adFilter:t}:{};return(0,n.Z)("/reporting/ads/",{pinPromotionIds:[s],...i})},editPinPromotion:e=>{const s=e.isCreatingPins?{isCreatingPins:!0}:{},t=e.pinPromotionId?{pinPromotionId:e.pinPromotionId}:{};return a.editV2({adGroupId:e.adGroupId,view:"ad",...t,...s})},productGroup:e=>{const{id:s,name:t}=e;return(0,n.Z)("/reporting/productgroups/",{productGroupIds:[s],name:t})},campaigns:()=>"/reporting/campaigns/",adgroups:()=>"/reporting/adgroups/",ads:()=>"/reporting/ads/",productgroups:()=>"/reporting/productgroups/",campaignNegativeKeywords:()=>"/reporting/campaignNegativeKeywords/",campaignSearchQueries:()=>"/reporting/campaignSearchQueries/",adGroupNegativeKeywords:()=>"/reporting/adGroupNegativeKeywords/",adGroupPositiveKeywords:()=>"/reporting/adGroupPositiveKeywords/",adGroupSearchQueries:()=>"/reporting/adGroupSearchQueries/",ad:e=>a.pinPromotion(e),campaignMode:()=>"/ads/campaign_mode/",create:e=>{const{campaignId:s,objectiveType:t,partialCreate:i,catalogsFeedId:o}=e,r={};return s&&i&&(r.campaignId=s),t&&(r.objectiveType=t),"CATALOG_SALES"===t&&o&&(r.catalogsFeedId=o),(0,n.Z)("/ads/create/",r)},createAutomated:e=>(0,n.Z)("/automated/ads/create/",e),editV2:e=>(0,n.Z)("/ads/edit/",e),editAutomated:e=>(0,n.Z)("/automated/ads/edit/",e),duplicateCampaign:e=>(0,n.Z)("/ads/duplicate/",e),audiences:()=>"/audiences/",audience_debug:()=>"/audience_debug/",billing:e=>{const{page:s,subSection:t,nextStepUrl:o}=e;switch(s){case i.kM.BILLING_HISTORY:return"/billing/history/";case i.kM.ORDER_LINES:return"/billing/order_lines/";case i.kM.PROMOTIONS:return"/billing/promotions/";case i.kM.DOCUMENTS:return"/billing/documents/";default:const e={};return t&&(e.section=t),o&&(e.next_step_link_url=o),(0,n.Z)("/billing/",e)}},bulk:e=>{const{subSection:s,page:t,jobStarted:o}=e||{};switch(t){case i.fm.UPLOAD_TEMPLATE:return(0,n.Z)("/bulk_editor/upload_template/",{section:s});case i.fm.DOWNLOAD_TEMPLATE:return(0,n.Z)("/bulk_editor/download_template/",{section:s});case i.fm.HISTORY:return(0,n.Z)("/bulk_editor/history/",{section:s,job_started:o});case i.fm.RESOURCES:return(0,n.Z)("/bulk_editor/resources/",{section:s});default:return"/bulk_editor/"}},history:e=>(0,n.Z)("/history/",e),shopping:e=>a.reporting(r("TEMPORARY_SHOPPING")),pinterest_tag:e=>{const{page:s,subSection:t,platform:o}=e;switch(s){case i.qp.PINTEREST_EVENT_HISTORY:return"/conversions/event-history/";case i.qp.PINTEREST_TAG:return(0,n.Z)("/conversions/tag/",{subPage:t,platform:o});case i.qp.PINTEREST_TAG_EVENTS:return"/conversions/tag-events/";case i.qp.PINTEREST_TAG_HEALTH:return"/conversions/tag-health/";case i.qp.CONVERSION_UPLOAD:return(0,n.Z)("/conversions/upload/",{subPage:t});case i.qp.UPLOAD_HISTORY:return(0,n.Z)("/conversions/history/",{subPage:t});case i.qp.PCA_UPLOAD_HISTORY:return(0,n.Z)("/conversions/pca_history/",{subPage:t});case i.qp.PCA_UPLOAD:return(0,n.Z)("/conversions/pca_upload/",{subPage:t});case i.qp.CONVERSIONS_API_ACCESS_TOKEN:return"/conversions/access_token/";case i.qp.CONVERSIONS_API_DEDUPLICATION:return"/conversions/deduplication/";default:return"/conversions/tag/"}},"pin-builder":e=>(0,n.Z)("/pin-builder/",e),purchases:()=>a.reporting(r("PURCHASE")),awareness_reserved:()=>a.reporting(r("IMPRESSION")),engagement:()=>a.reporting(r("BILLABLE_ENGAGEMENT")),videos:()=>a.reporting(r("TEMPORARY_BIDDED_CPM_VIDEO")),videos_reserved:()=>a.reporting(r("TEMPORARY_IMPRESSION_VIDEO")),videos_cpv:()=>a.reporting(r("TEMPORARY_MRC_CPV_VIDEO")),conversions:()=>a.reporting(r("WEB_CONVERSION")),accounts_manager:()=>"/accounts_manager/",reporting_preferences:e=>(0,n.Z)("/reporting/preferences/",e),report_builder:e=>(0,n.Z)("/report-center/builder/",e),report_history:()=>"/report-center/history/",report_unsubscribe:e=>(0,n.Z)("/report-center/unsubscribe/",e),report_download:e=>(0,n.Z)("/report-center/download/",e),media_planner:()=>"/media_planner/",awareness:()=>a.reporting(r("AWARENESS")),traffic:()=>a.reporting(r("TRAFFIC")),app_installs:()=>a.reporting(r("APP_INSTALL")),catalog_sales:()=>a.reporting(r("CATALOG_SALES")),web_conversion:()=>a.reporting(r("WEB_CONVERSION")),video_view:()=>a.reporting(r("VIDEO_VIEW")),quick_promote:()=>"/quick-promote/",quick_promote_on_www:()=>"/advertiser/quick-promote/",recommendations:()=>"/recommendations/",catalog_view:()=>"/product-catalogs/data-source"},l=a},28543:(e,s,t)=>{t.r(s),t.d(s,{default:()=>r});var n=t(567831);var i=t(55259),o=t(966113);function r(e,s,t){if(!i.Z[e])throw new Error(`unknown url key: ${e}`);t||(t={});let r=i.Z[e](t);const a=function(e,s){let t=null;return e&&(t=e.advertiserId||null),!t&&s&&(t=s.id),t}(t,s);return"string"==typeof a&&(r="/advertiser/"+a+r),!!t.absolutify&&(r=(0,n.Z)(r,void 0,o.Z.settings.ADS_DOMAIN)),r}},21353:(e,s,t)=>{t.d(s,{Z:()=>o});var n=t(702664),i=t(28543);function o(){const e=(0,n.useSelector)((({advertiser:e})=>e));return(s,t)=>(0,i.default)(s,e,t)}},852260:(e,s,t)=>{t.d(s,{BC:()=>l,I9:()=>i,JS:()=>_,MX:()=>u,aV:()=>d,bH:()=>c,hC:()=>r,nD:()=>o,sQ:()=>a});var n=t(349700);const i=e=>e._('Cancel', '[m10n]bizAccess.cancel', 'Label for a button that cancels a flow'),o=e=>e._('Skip', '[m10n]bizAccess.skip', 'Label for a button that skips a modal'),r=e=>e._('Loading', '[m10n]bizAccess.loading', 'Accessibility label for the loading spinner'),a=e=>e._('Uh oh! Something went wrong and we\'re not sure what. Please reach out to your Pinterest contact if you keep running into this problem.', '[m10n]bizAccess.genericError', 'A generic product error message prompt to indicate something is wrong.'),l=e=>e._('Not enough data to display', '[m10n]bizAccess.noDataErrorMessage', 'Error message displayed instead of visualization when insufficient data.'),c=e=>e._(', ', '[m10n]bizAccess.separator', 'List separator'),d=(e,s="",t,i)=>{const{id:o=""}=e;return o===s?(0,n.nk)(i._('{{ name }} (You)', '[m10n]bizAccess.strings.you', 'Highlighting the logged in user\'s name among other data'),{name:t}).join(""):t},_=(e,s="",t,n,i)=>n?e.id===s?i._('Linked to a personal account', '[m10n]bizAccess.lba.viewer.email', 'Message for linked business access accounts on email'):i._('No email address available', '[m10n]bizAccess.lba.employees.email', 'Message for accounts that we can not show their email'):t,u=(e,s)=>e.length>0&&e.every((e=>"BIZ_ADMIN"===e))?s.ngettext('Manager', 'Managers', e.length, '[m10n]bizAccess.people.roles.admins', 'People\'s role in a business'):s.ngettext('Employee', 'Employees', e.length, '[m10n]bizAccess.people.roles.employees', 'People\'s role in a business')},62922:(e,s,t)=>{t.d(s,{Z:()=>r});var n=t(667294),i=t(172045);const o={id:(0,i.Z)(),timeout:null};function r(){const[,e]=(0,n.useState)(o.id),s=(0,n.useRef)(!0),t=()=>{o.timeout&&window.clearTimeout(o.timeout),o.timeout=window.setTimeout((()=>{o.id=(0,i.Z)(),s.current&&e(o.id),t()}),18e5)};return(0,n.useEffect)((()=>{t(),window.addEventListener("click",t),window.addEventListener("keyUp",t)}),[]),o.id}},893209:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var n=t(667294),i=t(966224),o=t(121151),r=t(898781),a=t(19121),l=t(349700),c=t(826067),d=t(276775),_=t(439181),u=t(883119),p=t(785893);function h({disableOutsideClick:e,nextUrl:s,onDismiss:t,onUsingExistingAccount:h}){const A=(0,r.ZP)(),m=(0,a.Z)(),E=(0,d.TH)(),{createLinkedBusinessAccount:g,linkedBusinessCreationLoading:b}=(0,_.N)(),P=()=>{b||t()},S=()=>{h?h():t()},T={headingText:A._('Create a business account?', 'linkedBusinessAccountConfirmationModal.heading.bizAccount', 'Confirmation modal that appears to ask the user if they want to create a new linked business account'),headingAccessibilityLabel:A._('Create a business account?', 'linkedBusinessAccountConfirmationModal.headingAccessibilityLabel.bizAccount', 'Accessible label for confirmation modal that appears when a user clicks button to add linked business account'),iconAccessibilityLabel:A._('Do not create a business account', 'linkedBusinessAccountConfirmationModal.iconAccessibilityLabel.bizAccount', 'Accessible label for close action on modal that appears when a user clicks button to add linked business account'),bodyText:A._('A business account helps you run ads, see analytics and share more ideas on Pinterest.', 'linkedBusinessAccountConfirmationModal.bodyText.bizAccount', 'Value statement for creating a new linked business account'),pinnerAccountTemplate:A._('Not a business? {{link}}', 'linkedBusinessAccountConfirmationModal.usePinnerAccountTemplate.bizAccount', 'Text for a link asking the user if they are not a business and dont want to create a new profile'),pinnerAccountLinkText:A._('Use your existing account', 'linkedBusinessAccountConfirmationModal.usePinnerAccountLinkText.bizAccount', 'Bold text that is embeded with "Not a business?" to highlight the cancel action creating a new profile')},{headingText:x,headingAccessibilityLabel:v,bodyText:f,pinnerAccountTemplate:C,pinnerAccountLinkText:I}=T;return(0,p.jsx)(n.Fragment,{children:(0,p.jsx)(o.ZP,{accessibilityModalLabel:v,heading:x,footer:(0,p.jsxs)(n.Fragment,{children:[(0,p.jsxs)(u.xu,{marginTop:6,children:[b&&(0,p.jsx)(i.Z,{}),(0,p.jsxs)(u.xu,{display:"flex",alignItems:"center",justifyContent:"center",marginTop:6,children:[(0,p.jsx)(u.xu,{minWidth:120,children:(0,p.jsx)(u.zx,{fullWidth:!0,text:A._('Cancel', 'LinkedBusinessAccountConfirmationModal.cancelButton.text', 'Label for the button to cancel creating new linkedin business account'),onClick:P,color:"gray",size:"lg"})}),(0,p.jsx)(u.xu,{minWidth:120,marginStart:2,children:(0,p.jsx)(u.zx,{fullWidth:!0,color:"red",text:A._('Get started', 'Submit button to create new linked business account', 'Submit button to create new linked business account'),onClick:()=>{const e=m.isAuth?m.firstName||m.lastName:"";if(m.isAuth&&e){const t={businessName:e,nextUrl:s,thirdPartyMarketingTrackingEnabled:m.third_party_marketing_tracking_enabled,thirdPartyApps:E.search&&"shopify"===(0,c.mB)(E.search).utm_source?[0]:[]};g(t).then((()=>{P()}))}},size:"lg"})})]})]}),(0,p.jsx)(u.xu,{display:"flex",justifyContent:"center",marginTop:4,children:C?(0,l.nk)(C,{link:(0,p.jsx)(u.xu,{marginStart:1,children:(0,p.jsx)(u.iP,{onTap:({event:e})=>{e.preventDefault(),S()},children:(0,p.jsx)(u.rU,{href:"#",inline:!0,onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:I})})},"notABusiness")}):(0,p.jsx)(u.xu,{marginStart:1,children:(0,p.jsx)(u.iP,{onTap:({event:e})=>{e.preventDefault(),S()},children:(0,p.jsx)(u.rU,{inline:!0,href:"#",onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:I})})},"notABusiness")})]}),onDismiss:()=>{e||t()},role:"alertdialog",children:(0,p.jsx)(u.xu,{paddingX:4,marginBottom:12,children:(0,p.jsx)(u.xv,{children:f})})})})}},917394:(e,s,t)=>{t.d(s,{Z:()=>a});var n=t(898781),i=t(883119),o=t(773285),r=t(785893);const a=()=>{const e=(0,n.ZP)(),{checkExperiment:s}=(0,o.F)(),{anyEnabled:t}=s("web_m10n_business_access_orbac_www"),{anyEnabled:a}=s("web_m10n_business_access_orbac_ga");return t||a?a?(0,r.jsx)(i.Ct,{position:"middle",text:e._('New', '[m10n]bizAccess.profiles.titleBadge.new', 'badge to signify that this is a new feature')}):(0,r.jsx)(i.Ct,{position:"middle",text:e._('Beta', '[m10n]bizAccess.profiles.titleBadge.beta', 'badge to signify that this is an beta feature')}):null}},898708:(e,s,t)=>{t.d(s,{B:()=>n,To:()=>o,_4:()=>r,e6:()=>i});const n=e=>s=>{const t=(e=>({EMPLOYEE:e._('Employee', '[m10n]bizAccess.business.people.bizRole', 'employee access type'),BIZ_ADMIN:e._('Manager', '[m10n]bizAccess.business.people.role', 'manager access type'),PARTNER_ADMIN:e._('Partner admin', '[m10n]bizAccess.business.people.bizRole', 'partner admin access type'),PARTNER:e._('Partner', '[m10n]bizAccess.business.people.bizRole', 'partner access type'),UNKNOWN:e._('Unknown', '[m10n]bizAccess.business.people.bizRole', 'unknow access type')}))(e);return t[s]||t.UNKNOWN},i=e=>s=>{const t=(e=>({NO_ACCESS:e._('No Access', '[m10n]bizAccess.business.people.role', 'No access role'),OWNER:e._('Account Owner', '[m10n]bizAccess.business.people.role', 'Owner of account role type'),ADMIN:e._('Admin', '[m10n]bizAccess.business.people.role', '[m10n] Administrator role type'),ANALYST:e._('Analyst', '[m10n]bizAccess.business.people.role', '[m10n] analyst role type'),AUDIENCE_MANAGER:e._('Audience', '[m10n]bizAccess.business.people.role', 'audience access type'),FINANCE_MANAGER:e._('Finance', '[m10n]bizAccess.business.people.role', 'finance access type'),CAMPAIGN_MANAGER:e._('Campaign', '[m10n]bizAccess.business.people.role', 'Access level for managing campaigns'),SOS_READER:e._('Admin Mode Reader', '[m10n]bizAccess.business.people.role', 'Access level for internal, admin mode users w/o write access'),CATALOGS_MANAGER:e._('Catalogs', '[m10n]bizAccess.business.people.role', 'Access level for managing catalogs'),PROFILE_PUBLISHER:e._('Publisher', '[m10n]bizAccess.business.people.roleDisplay.profileManager', 'Access level for managing organic assets'),UNKNOWN:e._('Unknown', '[m10n]bizAccess.business.people.role', 'role type not available')}))(e);return t[s]||t.UNKNOWN},o=e=>s=>{const t=(e=>({NO_ACCESS:e._('Deny access to this ad account', '[m10n]bizAccess.business.people.roleDescription', 'No access description for roles'),OWNER:e._('Account owner', '[m10n]bizAccess.business.people.role', 'Owner of account role type'),ADMIN:e._('Can create or edit anything in the account such as campaigns, spend limits, bids, budgets, audiences, paid partnership approval and more.', '[m10n]bizAccess.business.people.roleDescription', 'Administrator permission type description for users in paid partnership experiment'),ANALYST:e._('Can only view ad account data to create reports.', '[m10n]bizAccess.business.people.roleDescription', 'Reporting data analyst permission type description'),AUDIENCE_MANAGER:e._('Can create or edit audiences and view existing Pinterest tags.', '[m10n]bizAccess.business.people.roleDescription', 'Create and modify audiences permission type description'),FINANCE_MANAGER:e._('Can edit billing information.', '[m10n]bizAccess.business.people.roleDescription', 'Finance and billing permission type description'),CAMPAIGN_MANAGER:e._('Can create and edit campaigns, ad groups and promoted Pins, pull reports, approve paid partnerships and create and delete Pins on protected boards for promotion purposes.', '[m10n]bizAccess.business.people.roleDescription', 'Manage campaign permission type description for users in paid partnership experiment'),CATALOGS_MANAGER:e._('Can create and edit data source and product group information.', '[m10n]bizAccess.business.people.roleDescription', 'Manage catalogs permission type description'),PROFILE_PUBLISHER:e._('Publishers can create, edit, and organize Pins and boards without a business\u2019s prior approval.', '[m10n]bizAccess.business.people.roleDescription.profileManager', 'Publisher role description'),UNKNOWN:e._('Unknown', '[m10n]bizAccess.business.people.role', 'role type not available')}))(e);return t[s]||t.UNKNOWN},r=(e,s,t)=>{var n,i;return t?(null===(i=(e||[]).find((({id:e})=>e===s)))||void 0===i?void 0:i.business_roles[0])||"OWNER":(null===(n=(e||[]).find((({id:e})=>e===s)))||void 0===n?void 0:n.biz_roles[0])||"OWNER"}},869899:(e,s,t)=>{t.r(s),t.d(s,{RoleBasedAccessControlProvider:()=>b,useRoleBasedAccessControlContext:()=>g});var n=t(667294),i=t(389643),o=t(784590),r=t(19121),a=t(773285),l=t(425288),c=t(70061);const d=e=>{const s={};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&("object"!=typeof e[t]||null===e[t]||Array.isArray(e[t])?s[(0,c.Z)(t)]=e[t]:s[(0,c.Z)(t)]=d(e[t]));return s},_=(e,s)=>{const t=[];for(const o in e)o!==s&&t.push({id:o,...d(e[o])});const n=t.sort((({user:{businessName:e}},{user:{businessName:s}})=>e.localeCompare(s))),i=new Map;for(const o of n)i.set(o.id,o);return i};var u=t(622096);const p={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},h=(e,s)=>{switch(s.type){case"LOAD_PROFILES":return{...e,profiles:s.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:s.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:s.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:s.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:s.payload};default:return e}},A=e=>{const[s,t]=(0,n.useReducer)(h,p),i=(({dispatch:e,isEnabled:s,state:t})=>{const{orbacVisibility:i,disableProfileChanger:o,headerVisible:r}=t;return{changeProfile:(0,n.useCallback)((t=>{s&&e({type:"SET_ACTIVE_PROFILE",payload:t})}),[s,e]),toggleORBACVisibility:(0,n.useCallback)((t=>{s&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=t?t:!i})}),[s,e,i]),toggleDisableProfileChanger:(0,n.useCallback)((t=>{s&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=t?t:!o})}),[s,e,o]),toggleHeaderVisibility:(0,n.useCallback)((t=>{s&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=t?t:!r})}),[s,e,r])}})({dispatch:t,isEnabled:e,state:s}),{activeProfile:o,orbacVisibility:r}=s;(0,n.useEffect)((()=>{const e=(0,u.qn)("orbacActiveProfile",!1);e&&t({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,n.useEffect)((()=>{const e=(0,u.qn)("orbacVisibilty",!1);e&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,n.useEffect)((()=>{(0,u.Nh)("orbacVisibility",r)}),[r]),(0,n.useEffect)((()=>{(0,u.Nh)("orbacActiveProfile",o)}),[o]);return{state:s,actions:i,receiveProfiles:(0,n.useCallback)(((e,s)=>{t({type:"LOAD_PROFILES",payload:_(e,s)})}),[t])}};var m=t(785893);const{Provider:E,useMaybeHook:g}=(0,l.Z)("RoleBasedAccessControlContext"),b=({children:e})=>{const{checkExperiment:s}=(0,a.F)(),t=(0,r.Z)(),l=Boolean(t.isAuth&&t.isPartner&&s("web_m10n_business_access_orbac_www").anyEnabled),{state:c,actions:d,receiveProfiles:_}=A(l),{activeProfile:u,headerVisible:p,profiles:h=[]}=c,g=h?Array.from(h.values()):[],b=(0,i.Z)(g),P=!!(t.isAuth&&g.length>0)&&b,S=t.isAuth?t.id:"",T=t.isAuth?t.username:"",{changeProfile:x,toggleORBACVisibility:v,toggleDisableProfileChanger:f,toggleHeaderVisibility:C}=d;(0,n.useEffect)((()=>{l&&("string"!=typeof b?u||x(S):x(b))}),[b,S,l,x,u]),(0,n.useEffect)((()=>{l&&(P&&!p&&C(!0),!P&&p&&C(!1))}),[C,P,l,p,h]);const{data:I}=(0,o.Z)(l?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),R=null==I?void 0:I.profiles;let N;t&&t.isAuth&&c.activeProfile===t.id?N={id:t.id,permissions:["OWNER"],user:{username:T,businessName:t.fullName,imgUrl:t.imageSmallUrl}}:u&&c.profiles&&(N=c.profiles.get(u)),(0,n.useEffect)((()=>{R&&_(R,S)}),[_,R,S]);const y=c.profiles?Array.from(c.profiles.values()):[];return(0,m.jsx)(E,{value:{profiles:y,headerVisible:c.headerVisible,activeProfile:N,changeProfile:x,toggleORBACVisibility:v,toggleDisableProfileChanger:f,toggleHeaderVisibility:C},children:e})}},717615:(e,s,t)=>{t.d(s,{Z:()=>o});var n=t(773285),i=t(869899);const o=()=>{const{checkExperiment:e}=(0,n.F)(),s=(0,i.useRoleBasedAccessControlContext)(),{activeProfile:t}=s||{};return e("web_m10n_business_access_orbac_www").anyEnabled&&t||Object.freeze({})}},389643:(e,s,t)=>{t.d(s,{Z:()=>l});var n=t(702664),i=t(19121),o=t(773285),r=t(53987),a=t(276775);const l=e=>{var s;const t=(0,a.TH)(),l=(0,i.Z)(),{anyEnabled:c}=(0,o.F)().checkExperiment("web_m10n_business_access_orbac_www"),d=(0,a.$B)("/:username"),_=null==d||null===(s=d.params)||void 0===s?void 0:s.username,u=(0,a.$B)("/pin/:id"),p=(0,n.useSelector)((e=>{var s,t,n,i;return!(null==u||null===(s=u.params)||void 0===s||!s.id)&&(null==e||null===(t=e.pins)||void 0===t||null===(n=t[u.params.id])||void 0===n||null===(i=n.pinner)||void 0===i?void 0:i.id)}));if((0,r.ej)(t))return!1;if((0,r.RU)(t))return!0;if((0,r.mY)(t))return c;const h=e.concat(l.isAuth?{user:{username:l.username},id:l.id}:{}).find((e=>{const{user:s={},id:t}=e||{},{username:n}=s;return!!(n&&_||p&&t)&&(n===_||p===t)}));return!!h&&h.id}},438112:(e,s,t)=>{t.d(s,{aI:()=>r});const n=Object.freeze({ACF_RELEASE_ALPHA:"aid_exp_acf_alpha",ACF_RELEASE_BETA:"aid_exp_acf_beta",ACF_RELEASE_GA:"aid_exp_acf_ga"}),i=Object.freeze({ALPHA:"ALPHA",BETA:"BETA",GA:"GA"}),o=[i.ALPHA,i.BETA,i.GA],r=e=>o.some((s=>((e,s)=>{const t={[i.ALPHA]:n.ACF_RELEASE_ALPHA,[i.BETA]:n.ACF_RELEASE_BETA,[i.GA]:n.ACF_RELEASE_GA}[e];return!!t&&s.checkExperiment(t).anyEnabled})(s,e)))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/ProPartnerHeaderDesktop-ab0d77a2bd253a07.mjs.map